import{l as y,r as n,b as w,f as d,o as p,j as x,a as t,E as m,g as S,t as g,i as B,v as C,u as k,k as N,I as E}from"./app-7omrHMIl.js";import{o as D,_ as U}from"./useOnboarding-CNFBQLSI.js";const A={class:"page"},I={class:"container"},M={key:0,class:"mb-4 p-3 bg-red-50 text-red-700 rounded-lg"},O={class:"space-y-6"},T={class:"text-right text-sm text-gray-500 mt-1"},V={__name:"SignupBusinessDesc",setup(W){const b=k(),{step:v,totalSteps:f}=D(),a=n(""),l=n(!1),i=n("");n(!1),w(()=>{const o=localStorage.getItem("onboarding-business-description");if(o){const s=JSON.parse(o);a.value=s.description||""}});async function _(){var o,s,r,c;l.value=!0,i.value="";try{if(!a.value.trim())throw new Error("Business description is required.");const e={description:a.value};localStorage.setItem("onboarding-business-description",JSON.stringify(e));const u=await N.post("/business_description",e);if(!((o=u.data)!=null&&o.success))throw new Error(((s=u.data)==null?void 0:s.message)||"Failed to save business description.");E({type:"success",title:"Your initial profile is set up!",message:"Complete it 100% and purchase a membership to be visible. Confirmation will be sent within 2-3 business days."})}catch(e){console.error("Error saving business description:",e),i.value=(e==null?void 0:e.message)||((c=(r=e==null?void 0:e.response)==null?void 0:r.data)==null?void 0:c.message)||"An unexpected error occurred."}finally{l.value=!1}}function h(){b.back()}return(o,s)=>(p(),d("div",A,[x(U,{step:m(v),"total-steps":m(f),onBack:h,onContinue:_},null,8,["step","total-steps"]),t("main",I,[s[1]||(s[1]=t("section",{class:"lead"},[t("p",{class:"eyebrow"},"ACCOUNT SETUP"),t("h1",{class:"title"},"Please Tell Us a Little More About Your Business."),t("p",{class:"subtitle"},"What do you specialize in? Where are you based? Why should customers choose YOU?")],-1)),i.value?(p(),d("div",M,g(i.value),1)):S("",!0),t("div",O,[t("div",null,[B(t("textarea",{"onUpdate:modelValue":s[0]||(s[0]=r=>a.value=r),class:"w-full p-3 border border-gray-300 rounded-lg",placeholder:"A little bit about you",rows:"6"},null,512),[[C,a.value]]),t("div",T,g(500-a.value.length)+" characters left ",1)])])])]))}},L=y(V,[["__scopeId","data-v-33a4aa7d"]]);export{L as default};
