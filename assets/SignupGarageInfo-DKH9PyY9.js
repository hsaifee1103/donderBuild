import{r,d as k,b as j,e as D,c as F,o as i,w as G,u as I,a as t,f as d,g as _,n as M,t as f,h as T,i as p,v as C,j as E,x as q,q as H,k as R}from"./app-CTtqvBQy.js";import{_ as W}from"./AuthLayout-W6lUstZ7.js";import{C as Z}from"./CountrySelector-C2vfKOom.js";import"./countries-DXaTS7mb.js";/* empty css                                                                        */const $={class:"mb-8"},J={class:"text-gray-600 text-center"},K={key:0,class:"mb-4 p-3 bg-red-50 text-red-700 rounded-lg"},O={class:"flex items-start"},Y={class:"text-sm"},Q={class:"grid grid-cols-2 gap-4"},X={class:"flex space-x-3"},ee={class:"w-1/4"},te={class:"grid grid-cols-1 gap-4"},oe={class:"relative"},se=["type"],re={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},le={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ae={class:"relative"},ne=["type"],ie={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ue={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},de={key:0,class:"text-sm"},ce={class:"inline-flex items-center"},me={key:0,class:"w-4 h-4 text-green-500 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},ve={key:1,class:"w-4 h-4 text-red-500 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},pe=["disabled"],ke={__name:"SignupGarageInfo",setup(fe){const c=D(),B=I(),V=r("business"),g=r(""),y=r(""),m=r(""),u=r(""),l=r(""),a=r(""),b=r(!1),x=r(!1),N=r(!0),w=r(!1),n=r(""),v=r({name:"United Kingdom",dial_code:"+44",code:"GB",flag:"gb"}),h=k(()=>{const s=l.value.length>=8,e=/[A-Z]/.test(l.value),o=/[0-9]/.test(l.value),S=/[!@#$%^&*(),.?":{}|<>]/.test(l.value);return{length:s,uppercase:e,number:o,special:S}}),P=k(()=>a.value?l.value===a.value?"Passwords match":"Passwords do not match":""),A=k(()=>a.value?l.value===a?"text-green-600":"text-red-600":"text-gray-600"),L=k(()=>g.value.trim()!==""&&y.value.trim()!==""&&m.value.trim()!==""&&u.value.trim()!==""&&l.value.length>=8&&l.value===a.value&&h.value.uppercase&&h.value.number&&h.value.special&&N.value),U=async()=>{if(!L.value){n.value="Please fill in all required fields and ensure your password meets the requirements.";return}w.value=!0,n.value="";try{const s={type:V.value,first_name:g.value,last_name:y.value,email:m.value,country_code:v.value.dial_code,mobile:u.value,password:l.value,password_confirmation:a.value,usertype:"garage",fcm_token:"eOJLsFzYdUeimHNV8fY_m8:APA91bHiKHyu4IZdPLIPuAcUeWw_85-ieyNT3oRvFHMbVeL9_nG7zCpi51eEvyybZiN8GEsHxOvzlvuVBypruqxd-n4q6aZhyi58ucpeGTDWLiSXU8BQaH8"};console.log("Creating business account with data:",s);const e=await R.post("/provider/signup",s);e.data&&e.data.success?(sessionStorage.setItem("businessSignupData",JSON.stringify(s)),B.push({path:"/signup/otp/garage",query:{contact:u.value,countryCode:v.value.dial_code,mobile:u.value,email:m.value}})):e.data.errors&&Array.isArray(e.data.errors)&&e.data.errors.length>0?n.value=e.data.errors.join(", "):e.data.message?n.value=e.data.message:n.value="Failed to create account. Please try again."}catch(s){console.error("Create account error:",s),s.response&&s.response.data&&s.response.data.message?n.value=s.response.data.message:n.value="An error occurred while creating your account. Please try again."}finally{w.value=!1}};j(()=>{if(c.query.email&&(m.value=c.query.email),c.query.mobile&&(u.value=c.query.mobile),c.query.countryCode){const s=c.query.countryCode,e=z.find(o=>o.dial_code===s);e&&(v.value=e)}});const z=[{name:"United Kingdom",dial_code:"+44",code:"GB",flag:"gb"},{name:"United States",dial_code:"+1",code:"US",flag:"us"},{name:"India",dial_code:"+91",code:"IN",flag:"in"},{name:"Germany",dial_code:"+49",code:"DE",flag:"de"},{name:"France",dial_code:"+33",code:"FR",flag:"fr"},{name:"Australia",dial_code:"+61",code:"AU",flag:"au"}];return(s,e)=>(i(),F(W,null,{default:G(()=>[t("div",$,[e[11]||(e[11]=t("h1",{class:"text-3xl font-bold text-gray-900 mb-2 text-center"},"Create a Business Account In Just 5 Minutes!",-1)),t("p",J,[e[9]||(e[9]=M("You're almost there! Create your new account for ",-1)),t("b",null,f(v.value.dial_code)+" "+f(u.value),1),e[10]||(e[10]=M(" by completing these details. ",-1))])]),n.value?(i(),d("div",K,[t("div",O,[e[13]||(e[13]=t("svg",{class:"h-5 w-5 text-red-500 mr-2 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),t("div",null,[e[12]||(e[12]=t("p",{class:"font-medium"},"Error",-1)),t("p",Y,f(n.value),1)])])])):_("",!0),t("form",{onSubmit:T(U,["prevent"]),class:"space-y-6"},[t("div",Q,[t("div",null,[e[14]||(e[14]=t("label",{for:"firstName",class:"block text-sm font-medium text-gray-700 mb-1"},"First name *",-1)),p(t("input",{id:"firstName","onUpdate:modelValue":e[0]||(e[0]=o=>g.value=o),type:"text",placeholder:"First name",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none transition-colors",required:""},null,512),[[C,g.value]])]),t("div",null,[e[15]||(e[15]=t("label",{for:"lastName",class:"block text-sm font-medium text-gray-700 mb-1"},"Last name *",-1)),p(t("input",{id:"lastName","onUpdate:modelValue":e[1]||(e[1]=o=>y.value=o),type:"text",placeholder:"Last name",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none transition-colors",required:""},null,512),[[C,y.value]])])]),t("div",null,[e[16]||(e[16]=t("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-1"},"What's your email address? *",-1)),p(t("input",{id:"email","onUpdate:modelValue":e[2]||(e[2]=o=>m.value=o),type:"email",placeholder:"Email address",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none transition-colors",required:""},null,512),[[C,m.value]])]),t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"What's your phone number? *",-1)),t("div",X,[t("div",ee,[E(Z,{modelValue:v.value,"onUpdate:modelValue":e[3]||(e[3]=o=>v.value=o)},null,8,["modelValue"])]),p(t("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>u.value=o),type:"tel",placeholder:"(000) 000 0000",class:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none transition-colors",required:""},null,512),[[C,u.value]])])]),t("div",te,[t("div",null,[e[20]||(e[20]=t("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-1"},"Create password *",-1)),t("div",oe,[p(t("input",{id:"password","onUpdate:modelValue":e[5]||(e[5]=o=>l.value=o),type:b.value?"text":"password",placeholder:"Password",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none transition-colors",required:""},null,8,se),[[q,l.value]]),t("button",{type:"button",onClick:e[6]||(e[6]=o=>b.value=!b.value),class:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600"},[b.value?(i(),d("svg",re,[...e[18]||(e[18]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L8.464 8.464m1.414 1.414L8.464 8.464m5.656 5.656l1.415 1.415m-1.415-1.415l1.415 1.415M14.828 14.828L16.243 16.243"},null,-1)])])):(i(),d("svg",le,[...e[19]||(e[19]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])])]),t("div",null,[e[23]||(e[23]=t("label",{for:"confirmPassword",class:"block text-sm font-medium text-gray-700 mb-1"},"Re-enter password *",-1)),t("div",ae,[p(t("input",{id:"confirmPassword","onUpdate:modelValue":e[7]||(e[7]=o=>a.value=o),type:x.value?"text":"password",placeholder:"Confirm password",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none transition-colors",required:""},null,8,ne),[[q,a.value]]),t("button",{type:"button",onClick:e[8]||(e[8]=o=>x.value=!x.value),class:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600"},[x.value?(i(),d("svg",ie,[...e[21]||(e[21]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L8.464 8.464m1.414 1.414L8.464 8.464m5.656 5.656l1.415 1.415m-1.415-1.415l1.415 1.415M14.828 14.828L16.243 16.243"},null,-1)])])):(i(),d("svg",ue,[...e[22]||(e[22]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])])])]),a.value?(i(),d("div",de,[t("p",{class:H(A.value)},[t("span",ce,[l.value===a.value?(i(),d("svg",me,[...e[24]||(e[24]=[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293z","clip-rule":"evenodd"},null,-1)])])):(i(),d("svg",ve,[...e[25]||(e[25]=[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293z","clip-rule":"evenodd"},null,-1)])])),M(" "+f(P.value),1)])],2)])):_("",!0),t("button",{type:"submit",disabled:w.value||!L.value,class:"w-full bg-red-500 hover:bg-red-600 disabled:bg-gray-300 text-white font-semibold py-4 px-6 rounded-lg transition-colors text-lg"},f(w.value?"Creating Account...":"Create Account"),9,pe),e[26]||(e[26]=t("div",{class:"text-center mt-4"},[t("p",{class:"text-sm text-gray-600"}," By processing,, I agree to Donderstorm's Terms & Conditions & Community Guidelines & Privacy Policy ")],-1))],32)]),_:1}))}};export{ke as default};
