import{l as ne,r as s,J as $,d as ie,O as de,f as l,o as r,b as t,g as c,j as p,E as f,w as M,m as ce,K as q,u as ue,a as S,t as v,F as O,p as Q,L as G,q as y,Q as pe,k as g,e as ve}from"./app-C0VbAaEP.js";import{_ as he}from"./NotificationDropdown-BpaKGOwL.js";import{c as j,M as me,B as fe,X as ge,a as be,f as J,C as xe,b as we,U as ye,S as ke,d as _e,F as Ce,e as Le,g as Me}from"./x-BGqzC3Ia.js";/**
 * @license lucide-vue-next v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=j("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-vue-next v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=j("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-vue-next v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=j("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]]),Ne={class:"min-h-screen bg-white flex flex-col"},De={class:"bg-white shadow-sm"},Ve={class:"flex items-center justify-between p-4 max-w-[1540px] mx-auto"},ze={class:"flex items-center gap-2"},Pe=["aria-expanded"],Fe={class:"flex items-center space-x-2 md:space-x-4"},Ee={class:"relative"},Ie={key:0,class:"absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full","aria-hidden":"true"},Ae={class:"relative"},He=["aria-expanded"],Re=["src","alt"],Ue={key:0,class:"absolute right-0 mt-2 w-96 bg-white rounded-xl shadow-xl py-1 z-50 overflow-hidden border border-gray-200",role:"menu"},$e={class:"p-4 flex items-center space-x-3 border-b border-gray-100"},qe=["src","alt"],Oe={class:"flex items-center space-x-1"},Qe={class:"text-base font-bold text-gray-900"},Ge={key:0,class:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20"},Je={class:"flex items-center text-gray-500 text-sm mt-0.5"},Te={class:"p-4 space-y-4"},We={key:0,class:"bg-red-50 rounded-lg p-4 relative overflow-hidden"},Ze={class:"space-y-1 text-sm"},Ke={class:"flex justify-between text-red-700"},Xe={class:"font-medium"},Ye={class:"flex justify-between text-red-700"},et={class:"font-medium"},tt={class:"space-y-1 pt-2"},at={class:"flex items-center justify-between p-4 border-b flex-shrink-0"},st={class:"py-3 overflow-y-auto flex-1"},ot={class:"space-y-1"},rt={class:"mr-3 text-gray-500"},lt={class:"flex flex-1 overflow-hidden"},nt={class:"hidden md:block w-64 bg-white shadow flex-shrink-0"},it={class:"py-3 h-full overflow-y-auto"},dt={class:"space-y-1"},ct={class:"mr-3 text-gray-500"},ut={class:"flex-1 overflow-y-auto p-4 md:p-6"},pt={__name:"ProviderDashboardLayout",setup(vt){const B=ve(),h=ue(),n=s(!1),i=s(!1),u=s([]),k=s(!1),_=s(null),C=s(0),d=s(!1),b=s("John Doe"),T=s("john@example.com"),L=s("https://via.placeholder.com/150"),N=s(0),D=s(!1),V=s(!1),z=s("100%"),x=s(null),P=s(!1),F=s(!1),w=s(null),W=()=>{h.push("/provider/setup/location")},E=[{name:"dashboard",label:"Dashboard",path:"/provider/dashboard",icon:Se},{name:"calendar",label:"Calendar",path:"/provider/calendar",icon:be},{name:"invoices",label:"Invoices",path:"/provider/invoices",icon:J},{name:"bookings",label:"Bookings",path:"/provider/bookings",icon:xe},{name:"messages",label:"Messages",path:"/provider/messages",icon:we},{name:"services",label:"Services",path:"/provider/services",icon:Be},{name:"reviews",label:"Reviews",path:"/provider/reviews",icon:je},{name:"community",label:"Community",path:"/provider/community",icon:ye},{name:"workspace-settings",label:"Workspace settings",path:"/provider/workspace-setting",icon:ke},{name:"help-support",label:"Help & Support",path:"/provider/help-support",icon:_e},{name:"faq",label:"FAQ",path:"/provider/faq",icon:Ce},{name:"privacy-policy",label:"Privacy Policy",path:"/provider/privacy-policy",icon:Le},{name:"terms-conditions",label:"Terms & Conditions",path:"/provider/terms-conditions",icon:J},{name:"community-guide",label:"Community Guide",path:"/provider/community-guide",icon:Me}],I=a=>B.path===a,Z=()=>{n.value=!n.value,n.value&&(i.value=!1)},K=()=>{i.value=!i.value,i.value&&(n.value=!1,A())},X=()=>{i.value=!1},A=async()=>{try{k.value=!0;const a=await g.get("/getNotificationProvider");a.data&&a.data.success&&(u.value=a.data.data||[],C.value=a.data.unread_count||0)}catch(a){console.error("Failed to fetch notifications:",a)}finally{k.value=!1}},Y=async()=>{try{const a=await g.get("/readNotificationProvider");a.data&&a.data.success&&(u.value=u.value.map(e=>({...e,is_read:1})),C.value=0)}catch(a){console.error("Failed to mark notifications as read:",a)}},ee=async a=>{try{_.value=a;const e=await g.post("/deleteNotificationProvider",{id:a});e.data&&e.data.success&&(u.value=u.value.filter(m=>m.id!==a))}catch(e){console.error("Failed to delete notification:",e)}finally{_.value=null}},te=()=>{i.value=!1,h.push("/provider/notifications")},ae=()=>{d.value=!d.value},H=()=>{d.value=!1};$(()=>B.path,()=>{d.value=!1,n.value=!1,i.value=!1}),$(d,a=>{const e=document.documentElement;a?e.classList.add("overflow-hidden"):e.classList.remove("overflow-hidden")});const se=async()=>{try{await g.post("/logout")}catch(a){console.error("Logout error:",a)}finally{localStorage.removeItem("authToken"),localStorage.removeItem("userData"),h.push("/login")}},oe=()=>{const a=localStorage.getItem("userData");if(a)try{const e=JSON.parse(a);console.log(e,"user data"),b.value=`${e.first_name||""} ${e.last_name||""}`.trim()||e.business_name||"Provider",T.value=e.email||"provider@example.com",L.value=e.image_url||e.avatar||"https://static.vecteezy.com/system/resources/previews/036/594/092/non_2x/man-empty-avatar-photo-placeholder-for-social-networks-resumes-forums-and-dating-sites-male-and-female-no-photo-images-for-unfilled-user-profile-free-vector.jpg",N.value=e.rating_count||0,D.value=e.is_admin_approve===1||e.is_admin_approve==="1",console.log("Loaded user data:",e),z.value=e.is_step_complete_Per||"100%",V.value=z.value!=="100%",re(e.id),A()}catch(e){console.error("Error parsing user data:",e)}},re=async a=>{if(a)try{F.value=!0;const e=await g.post("/checkMembershipStatus",{providerId:a});e.data&&e.data.success&&(e.data.data?(x.value=e.data.data,P.value=!0):e.data.message&&(w.value=e.data.message,P.value=!0))}catch(e){console.error("Failed to check membership:",e)}finally{F.value=!1}},le=()=>{w.value&&window.open(w.value,"_blank")},R=a=>{if(!a)return"";try{return new Date(a).toLocaleDateString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit"}).split("/").reverse().join("-")}catch{return a}},U=a=>{a.target.closest(".relative")||(n.value=!1)};return ie(()=>{oe(),document.addEventListener("click",U)}),de(()=>{document.removeEventListener("click",U),document.documentElement.classList.remove("overflow-hidden")}),(a,e)=>{const m=ce("router-link");return r(),l("div",Ne,[t("header",De,[t("div",Ve,[t("div",ze,[t("button",{class:"md:hidden p-2 rounded-lg hover:bg-gray-100","aria-label":"Open navigation","aria-expanded":d.value?"true":"false","aria-controls":"mobile-sidebar",onClick:ae},[p(f(me),{class:"w-6 h-6 text-gray-700"})],8,Pe),p(m,{to:"/",class:"flex items-center","aria-label":"Go to home"},{default:M(()=>[...e[2]||(e[2]=[t("img",{src:"/assets/images/main-logo.png",alt:"Donder Storm Logo",class:"h-8 w-auto mr-2"},null,-1),t("span",{class:"sr-only"},"Donder Storm",-1)])]),_:1})]),t("div",Fe,[V.value?(r(),l("button",{key:0,class:"bg-red-500 text-white p-2 md:px-4 md:py-3 rounded-full hover:bg-red-600 text-sm font-medium flex items-center justify-center",onClick:W},[...e[3]||(e[3]=[q('<span class="md:mr-2" data-v-cb875f44><svg width="18" height="22" viewBox="0 0 18 22" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-cb875f44><path d="M8.92991 11.0583C10.0608 11.0583 10.9776 10.1415 10.9776 9.0106C10.9776 7.87968 10.0608 6.96289 8.92991 6.96289C7.79899 6.96289 6.8822 7.87968 6.8822 9.0106C6.8822 10.1415 7.79899 11.0583 8.92991 11.0583Z" stroke="white" stroke-width="1.69492" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round" data-v-cb875f44></path><path d="M3.67669 10.0999L1.34627 13.4051C1.04936 13.8262 0.877677 14.3227 0.851059 14.8373C0.82444 15.3518 0.943975 15.8634 1.19585 16.3129L2.24297 18.1816C2.54754 18.7252 3.32462 18.7399 3.64958 18.2083L4.65784 16.5589M8.92979 19.5599V20.8473M5.37902 20.4073V20.8473M12.4806 20.4073V20.8473" stroke="white" stroke-width="1.69492" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round" data-v-cb875f44></path><path d="M14.184 10.1017L16.5132 13.4052C16.8101 13.8263 16.9818 14.3228 17.0084 14.8374C17.035 15.352 16.9155 15.8636 16.6636 16.313L15.6165 18.1818C15.3119 18.7253 14.5349 18.7401 14.2099 18.2085L13.2016 16.5591L14.0688 10.923C14.5834 8.04067 13.5841 5.09589 11.4216 3.12203L8.92974 0.847412L6.43783 3.12199C4.27537 5.09584 3.2761 8.04067 3.79067 10.9229L4.65872 16.559H8.9644" stroke="white" stroke-width="1.69492" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round" data-v-cb875f44></path></svg></span><span class="hidden md:inline" data-v-cb875f44>Continue Setup</span><span class="ml-1 font-normal hidden md:inline" data-v-cb875f44><svg width="8" height="13" viewBox="0 0 8 13" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-cb875f44><path d="M1.41418 1.41418L6.41418 6.41418L1.41418 11.4142" stroke="white" stroke-width="2" stroke-linecap="square" data-v-cb875f44></path></svg></span>',3)])])):c("",!0),t("button",{class:"px-2 py-2 text-black rounded-lg transition-colors cursor-pointer",onClick:e[0]||(e[0]=o=>f(h).push("/provider/messages"))},[...e[4]||(e[4]=[t("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},[t("path",{d:"M19 13C19 13.5304 18.7893 14.0391 18.4142 14.4142C18.0391 14.7893 17.5304 15 17 15H5L1 19V3C1 2.46957 1.21071 1.96086 1.58579 1.58579C1.96086 1.21071 2.46957 1 3 1H17C17.5304 1 18.0391 1.21071 18.4142 1.58579C18.7893 1.96086 19 2.46957 19 3V13Z",stroke:"#182224","stroke-width":"1.6","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M5.33301 5.83008H14.7452",stroke:"#182224","stroke-width":"1.6","stroke-linecap":"round","stroke-linejoin":"round"}),t("path",{d:"M5.5 10H12.25",stroke:"#182224","stroke-width":"1.6","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])]),t("div",Ee,[t("button",{class:"relative p-2 rounded-full hover:bg-gray-100","aria-label":"Notifications",onClick:K},[p(f(fe),{class:"w-6 h-6 text-gray-600"}),C.value>0?(r(),l("span",Ie)):c("",!0)]),i.value?(r(),S(he,{key:0,notifications:u.value,loading:k.value,"user-type":"provider","deleting-id":_.value,onMarkAllRead:Y,onDelete:ee,onViewAll:te,onClose:X},null,8,["notifications","loading","deleting-id"])):c("",!0)]),t("div",Ae,[t("button",{onClick:Z,class:"flex items-center space-x-2 p-2 px-3 rounded-full hover:bg-gray-100","aria-haspopup":"menu","aria-expanded":n.value?"true":"false"},[t("img",{src:L.value,alt:b.value,class:"w-8 h-8 rounded-full border border-gray-200"},null,8,Re)],8,He),n.value?(r(),l("div",Ue,[t("div",$e,[t("img",{src:L.value,alt:b.value,class:"w-12 h-12 rounded-full object-cover border-2 border-white shadow-sm"},null,8,qe),t("div",null,[t("div",Oe,[t("h3",Qe,v(b.value),1),D.value?(r(),l("svg",Ge,[...e[5]||(e[5]=[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)])])):c("",!0)]),t("div",Je,[e[6]||(e[6]=t("svg",{class:"w-4 h-4 mr-1 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),t("span",null,v(N.value)+" Reviews",1)])])]),t("div",Te,[x.value?(r(),l("div",We,[e[10]||(e[10]=t("div",{class:"flex justify-between items-start mb-2"},[t("h4",{class:"text-red-800 font-semibold text-sm"},"Membership Details"),t("svg",{class:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1)),t("div",Ze,[t("div",Ke,[e[7]||(e[7]=t("span",null,"Purchase date",-1)),t("span",Xe,v(R(x.value.purchase_date)),1)]),t("div",Ye,[e[8]||(e[8]=t("span",null,"Expiry date",-1)),t("span",et,v(R(x.value.expiry_date)),1)]),e[9]||(e[9]=t("p",{class:"text-red-600 text-xs mt-2"},"Special price applied just for you!",-1))])])):w.value?(r(),l("div",{key:1,class:"bg-red-500 rounded-lg p-4 cursor-pointer hover:bg-red-600 transition-colors",onClick:le},[...e[11]||(e[11]=[q('<div class="flex items-start space-x-3" data-v-cb875f44><div class="flex-shrink-0 mt-0.5 bg-white rounded-full p-1" data-v-cb875f44><svg class="w-4 h-4 text-red-500" fill="currentColor" viewBox="0 0 20 20" data-v-cb875f44><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z" clip-rule="evenodd" data-v-cb875f44></path></svg></div><div class="flex-1" data-v-cb875f44><div class="flex justify-between items-center" data-v-cb875f44><h4 class="text-white font-bold text-sm" data-v-cb875f44>Become a member</h4><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-cb875f44><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-cb875f44></path></svg></div><p class="text-white text-xs mt-1 leading-relaxed opacity-90" data-v-cb875f44> Become a member to have your garage visible to customers and start receiving bookings. </p></div></div>',1)])])):c("",!0),t("div",tt,[t("div",{class:"py-2 px-1 hover:bg-gray-50 rounded cursor-pointer flex justify-between items-center",onClick:e[1]||(e[1]=o=>f(h).push("/provider/profile"))},[...e[12]||(e[12]=[t("span",{class:"text-gray-700 font-medium text-sm"},"Personal Information",-1)])])]),t("div",{class:"pt-2 border-t border-gray-100"},[t("button",{onClick:se,class:"text-red-500 font-medium text-sm hover:text-red-600 w-full text-left py-2"}," Logout ")])])])):c("",!0)])])])]),d.value?(r(),l("div",{key:0,class:"fixed inset-0 z-40 bg-black/30 md:hidden",onClick:H,"aria-hidden":"true"})):c("",!0),t("aside",{id:"mobile-sidebar",class:y(["fixed inset-y-0 left-0 z-50 w-72 bg-white shadow-lg transform transition-transform duration-200 ease-out md:hidden flex flex-col h-full",d.value?"translate-x-0":"-translate-x-full"]),role:"dialog","aria-modal":"true","aria-label":"Navigation"},[t("div",at,[e[13]||(e[13]=t("span",{class:"font-medium text-gray-900"},"Menu",-1)),t("button",{class:"p-2 rounded-lg hover:bg-gray-100","aria-label":"Close navigation",onClick:H},[p(f(ge),{class:"w-5 h-5 text-gray-700"})])]),t("nav",st,[t("ul",ot,[(r(),l(O,null,Q(E,o=>t("li",{key:o.name},[p(m,{to:o.path,class:y(["flex items-center px-5 py-3 text-gray-700 hover:bg-gray-100 transition-colors",I(o.path)?"bg-red-50 text-red-600 border-l-4 border-red-600":""])},{default:M(()=>[t("span",rt,[(r(),S(G(o.icon),{class:"w-5 h-5"}))]),t("span",null,v(o.label),1)]),_:2},1032,["to","class"])])),64))])])],2),t("div",lt,[t("aside",nt,[t("nav",it,[t("ul",dt,[(r(),l(O,null,Q(E,o=>t("li",{key:o.name,class:y(o.name==="help-support"?"border-t border-gray-300 pt-4":"")},[p(m,{to:o.path,class:y(["flex items-center px-5 py-3 text-gray-700 hover:bg-gray-100 transition-colors",I(o.path)?"bg-red-50 text-red-600 border-l-4 border-red-600":""])},{default:M(()=>[t("span",ct,[(r(),S(G(o.icon),{class:"w-5 h-5"}))]),t("span",null,v(o.label),1)]),_:2},1032,["to","class"])],2)),64))])])]),t("main",ut,[pe(a.$slots,"default",{},void 0,!0)])])])}}},gt=ne(pt,[["__scopeId","data-v-cb875f44"]]);export{gt as P};
