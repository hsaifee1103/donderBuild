import{_ as f}from"./AuthLayout-DSI1fmXx.js";import{l as y,c as x,o as a,w as b,m as v,k as w,a as s,f as n,g as m,t as u,h as P,i as p,q as d,x as g}from"./app-7omrHMIl.js";const k={name:"ProviderResetPassword",components:{AuthLayout:f},data(){return{password:"",confirmPassword:"",showPassword:!1,showConfirmPassword:!1,isLoading:!1,errorMessage:"",successMessage:""}},computed:{passwordRequirements(){const r=this.password.length>=8,e=/[A-Z]/.test(this.password),l=/[0-9]/.test(this.password),c=/[!@#$%^&*(),.?":{}|<>]/.test(this.password);return{length:r,uppercase:e,number:l,special:c}},isPasswordValid(){const r=this.passwordRequirements;return r.length&&r.uppercase&&r.number&&r.special},isFormValid(){return this.password&&this.confirmPassword&&this.password===this.confirmPassword&&this.isPasswordValid}},methods:{togglePasswordVisibility(){this.showPassword=!this.showPassword},toggleConfirmPasswordVisibility(){this.showConfirmPassword=!this.showConfirmPassword},async handleSubmit(){if(!this.isFormValid){this.password!==this.confirmPassword?this.errorMessage="Passwords do not match.":this.isPasswordValid||(this.errorMessage="Password does not meet the requirements.");return}this.isLoading=!0,this.errorMessage="",this.successMessage="";try{const r=await w.post("/provider/password/reset",{password:this.password,password_confirmation:this.confirmPassword});r.data&&r.data.success?(this.successMessage="Password reset successfully!",localStorage.removeItem("authToken"),localStorage.removeItem("userData"),w.setAuthToken(""),setTimeout(()=>{this.$router.push("/login")},2e3)):r.data.errors&&Array.isArray(r.data.errors)&&r.data.errors.length>0?this.errorMessage=r.data.errors.join(", "):r.data.message?this.errorMessage=r.data.message:this.errorMessage="Failed to reset password."}catch(r){if(console.error("Error resetting password:",r),r.response){const e=r.response.status,l=r.response.data;e===422&&l.errors?this.errorMessage=l.errors.join(", "):this.errorMessage=l.message||"An error occurred while resetting your password."}else this.errorMessage="Network error. Please check your connection."}finally{this.isLoading=!1}}}},M={class:"w-full max-w-md mx-auto"},C={key:0,class:"mb-4 p-3 bg-red-50 text-red-700 rounded-lg"},_={class:"flex items-start"},L={class:"text-sm"},V={key:1,class:"mb-4 p-3 bg-green-50 text-green-700 rounded-lg"},A={class:"flex items-start"},q={class:"text-sm"},R={class:"relative"},B=["type"],z={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},S={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},j={class:"relative"},D=["type"],E={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},F={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},N={class:"text-sm text-gray-600"},T={class:"list-disc pl-5 space-y-1"},I=["disabled"];function U(r,e,l,c,o,t){const h=v("AuthLayout");return a(),x(h,null,{default:b(()=>[s("div",M,[e[14]||(e[14]=s("div",{class:"text-center mb-8"},[s("h1",{class:"text-2xl font-bold text-gray-900 mb-4"},"Reset Provider Password"),s("p",{class:"text-gray-600"}," Create a new password for your account. ")],-1)),o.errorMessage?(a(),n("div",C,[s("div",_,[e[6]||(e[6]=s("svg",{class:"h-5 w-5 text-red-500 mr-2 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),s("div",null,[e[5]||(e[5]=s("p",{class:"font-medium"},"Error",-1)),s("p",L,u(o.errorMessage),1)])])])):m("",!0),o.successMessage?(a(),n("div",V,[s("div",A,[e[8]||(e[8]=s("svg",{class:"h-5 w-5 text-green-500 mr-2 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)),s("div",null,[e[7]||(e[7]=s("p",{class:"font-medium"},"Success",-1)),s("p",q,u(o.successMessage),1)])])])):m("",!0),s("form",{onSubmit:e[4]||(e[4]=P((...i)=>t.handleSubmit&&t.handleSubmit(...i),["prevent"])),class:"space-y-6"},[s("div",R,[p(s("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>o.password=i),type:o.showPassword?"text":"password",placeholder:"Enter password",class:d(["w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none transition-colors",{"border-red-500":o.errorMessage}]),required:""},null,10,B),[[g,o.password]]),s("button",{type:"button",onClick:e[1]||(e[1]=(...i)=>t.togglePasswordVisibility&&t.togglePasswordVisibility(...i)),class:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600"},[o.showPassword?(a(),n("svg",z,[...e[9]||(e[9]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L8.464 8.464m1.414 1.414L8.464 8.464m5.656 5.656l1.415 1.415m-1.415-1.415l1.415 1.415M14.828 14.828L16.243 16.243"},null,-1)])])):(a(),n("svg",S,[...e[10]||(e[10]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5,12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])]),s("div",j,[p(s("input",{"onUpdate:modelValue":e[2]||(e[2]=i=>o.confirmPassword=i),type:o.showConfirmPassword?"text":"password",placeholder:"Confirm password",class:d(["w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none transition-colors",{"border-red-500":o.errorMessage}]),required:""},null,10,D),[[g,o.confirmPassword]]),s("button",{type:"button",onClick:e[3]||(e[3]=(...i)=>t.toggleConfirmPasswordVisibility&&t.toggleConfirmPasswordVisibility(...i)),class:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600"},[o.showConfirmPassword?(a(),n("svg",E,[...e[11]||(e[11]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L8.464 8.464m1.414 1.414L8.464 8.464m5.656 5.656l1.415 1.415m-1.415-1.415l1.415 1.415M14.828 14.828L16.243 16.243"},null,-1)])])):(a(),n("svg",F,[...e[12]||(e[12]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5,12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])]),s("div",N,[e[13]||(e[13]=s("p",{class:"mb-1"},"Password must contain:",-1)),s("ul",T,[s("li",{class:d(t.passwordRequirements.length?"text-green-600":"text-gray-600")},"At least 8 characters",2),s("li",{class:d(t.passwordRequirements.uppercase?"text-green-600":"text-gray-600")},"At least one uppercase letter",2),s("li",{class:d(t.passwordRequirements.number?"text-green-600":"text-gray-600")},"At least one number",2),s("li",{class:d(t.passwordRequirements.special?"text-green-600":"text-gray-600")},"At least one special character",2)])]),s("button",{type:"submit",disabled:o.isLoading||!t.isPasswordValid||o.password!==o.confirmPassword,class:"w-full bg-red-500 hover:bg-red-600 disabled:bg-gray-300 text-white font-semibold py-3 px-4 rounded-lg transition-colors"},u(o.isLoading?"Resetting...":"Reset Password"),9,I)],32)])]),_:1})}const H=y(k,[["render",U]]);export{H as default};
