import{l as w,r as a,b as h,c as j,o as u,w as k,u as _,a as e,f as n,g as d,t as c,i as v,q as p,H as S,v as M,k as C}from"./app-DJPj3-n2.js";import{P as B}from"./ProviderDashboardLayout-Dx-s-8A8.js";import"./NotificationDropdown-DQWgBRpK.js";import"./x-BthwGwRq.js";const P={class:"max-w-7xl mx-auto"},L={class:"bg-white rounded-lg overflow-hidden mt-6"},z={class:""},T={key:0,class:"mb-6 p-4 bg-green-50 text-green-700 rounded-lg"},V={key:1,class:"mb-6 p-4 bg-red-50 text-red-700 rounded-lg"},A={class:"flex items-start"},F={class:"space-y-6 shadow border p-6 rounded-lg border-gray-200"},H={class:"mb-6"},q={key:0,class:"mt-1 text-sm text-red-600"},D={class:"mb-6"},E={key:0,class:"mt-1 text-sm text-red-600"},I={class:"flex justify-end"},N=["disabled"],R={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},U={__name:"HelpSupport",setup(O){_();const o=a({subject:"",msg:""}),i=a(!1),m=a(!1),l=a(""),g=a(!1),r=a({subject:"",msg:""});h(()=>{});const b=()=>{let t=!0;return r.value={subject:"",msg:""},o.value.subject||(r.value.subject="Please select a subject",t=!1),(!o.value.msg||o.value.msg.trim()==="")&&(r.value.msg="Please enter your message",t=!1),t},x=async()=>{if(b()){i.value=!0,l.value="";try{const t=await C.post("/help_support",{subject:o.value.subject,msg:o.value.msg,user_type:"provider"});t.data&&t.data.success?(o.value={subject:"",msg:""},m.value=!0,setTimeout(()=>{m.value=!1},3e3),g.value=!0):t.data.errors&&Array.isArray(t.data.errors)&&t.data.errors.length>0?l.value=t.data.errors.join(", "):t.data.message?l.value=t.data.message:l.value="Failed to send message. Please try again."}catch(t){console.error("Error submitting help request:",t),t.response&&t.response.data&&t.response.data.errors?l.value=t.response.data.errors.join(", "):t.response&&t.response.data&&t.response.data.message?l.value=t.response.data.message:l.value="An error occurred while sending your message. Please try again."}finally{i.value=!1}}},y=()=>{g.value=!1};return(t,s)=>(u(),j(B,null,{default:k(()=>[e("div",P,[s[9]||(s[9]=e("div",{class:"mt-5"},[e("h1",{class:"text-2xl px-6 font-bold text-gray-900"},"Help & Support"),e("p",{class:"text-gray-600 px-6"},"Send us a message and we'll get back to you as soon as possible.")],-1)),e("div",L,[e("div",z,[m.value?(u(),n("div",T,[...s[2]||(s[2]=[e("div",{class:"flex items-start"},[e("svg",{class:"h-5 w-5 text-green-500 mr-2 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})]),e("p",null,"Your message has been sent successfully!")],-1)])])):d("",!0),l.value?(u(),n("div",V,[e("div",A,[s[3]||(s[3]=e("svg",{class:"h-5 w-5 text-red-500 mr-2 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),e("p",null,c(l.value),1)])])):d("",!0),e("div",F,[s[7]||(s[7]=e("h2",{class:"text-lg font-semibold text-gray-900 mb-2"},"Send us a message",-1)),s[8]||(s[8]=e("p",{class:"text-gray-600 mb-6"},"Please fill out the form below and we'll get back to you as soon as possible.",-1)),e("div",H,[s[5]||(s[5]=e("label",{for:"subject",class:"block text-sm font-medium text-gray-700 mb-2"},"Subject",-1)),v(e("select",{id:"subject","onUpdate:modelValue":s[0]||(s[0]=f=>o.value.subject=f),class:p(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500",{"border-red-500":r.value.subject}])},[...s[4]||(s[4]=[e("option",{value:"",disabled:""},"--Select subject--",-1),e("option",{value:"account"},"Account Issues",-1),e("option",{value:"billing"},"Billing & Payment",-1),e("option",{value:"technical"},"Technical Support",-1),e("option",{value:"feature"},"Feature Request",-1),e("option",{value:"other"},"Other",-1)])],2),[[S,o.value.subject]]),r.value.subject?(u(),n("p",q,c(r.value.subject),1)):d("",!0)]),e("div",D,[s[6]||(s[6]=e("label",{for:"message",class:"block text-sm font-medium text-gray-700 mb-2"},"Message",-1)),v(e("textarea",{id:"message","onUpdate:modelValue":s[1]||(s[1]=f=>o.value.msg=f),rows:"6",class:p(["w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500",{"border-red-500":r.value.msg}]),placeholder:"Tell us how can we help"},null,2),[[M,o.value.msg]]),r.value.msg?(u(),n("p",E,c(r.value.msg),1)):d("",!0)]),e("div",I,[e("button",{onClick:x,class:"px-6 py-2 bg-red-500 text-white font-medium rounded-md hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",disabled:i.value},c(i.value?"Submitting...":"Submit"),9,N)])])])])]),g.value?(u(),n("div",R,[e("div",{class:"bg-white rounded-lg p-6 max-w-md w-full mx-4"},[e("div",{class:"flex flex-col items-center"},[s[10]||(s[10]=e("div",{class:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4"},[e("svg",{class:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)),s[11]||(s[11]=e("h3",{class:"text-xl font-semibold text-gray-900 mb-2"},"Thanks for writing in!",-1)),s[12]||(s[12]=e("p",{class:"text-gray-600 text-center mb-6"},"We will try to email you within 24 hours, if not sooner. ",-1)),e("button",{onClick:y,class:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2"}," Close ")])])])):d("",!0)]),_:1}))}},K=w(U,[["__scopeId","data-v-e9fe47c2"]]);export{K as default};
