import{u as fe,e as xe,r as n,b as ye,O as ke,m as re,f as r,o,a as e,g as u,j as p,w as g,i as te,v as se,A as oe,t as c,F as C,p as z,n as f,E as R,K as G,c as be,z as Ce,k as E,s as we,d as _e,Q as Le}from"./app-ra6n0F-f.js";import{_ as Me}from"./NotificationDropdown-cEJAu455.js";const Be={class:"bg-white shadow-sm"},je={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Se={class:"flex justify-between items-center py-4"},$e={class:"flex items-center space-x-3"},De={class:"hidden md:flex items-center"},Ne={class:"relative group"},Te={class:"p-3 border-b flex justify-between items-center bg-gray-50 rounded-t-md"},Ee={class:"text-sm font-medium text-gray-900"},Ve={key:0,class:"p-3 text-center text-gray-500 text-sm"},He={key:1,class:"p-3 text-center text-gray-500 text-sm"},Ue={key:2},Ie={key:0,class:"border-b"},Pe=["onClick"],ze={class:"flex-1 min-w-0"},Ae={class:"text-sm font-medium text-gray-900 truncate"},Ze={key:1,class:"p-2"},Fe=["onClick"],Re=["src"],Ge={class:"flex-1 min-w-0"},Oe={class:"text-sm font-medium text-gray-900 truncate"},Ke={class:"text-xs text-gray-500 truncate"},Je={key:0,class:"px-3 py-2 text-center text-sm text-gray-500"},Qe={class:"flex items-center space-x-4"},qe={class:"hidden md:flex items-center space-x-4"},We={key:0,class:"flex items-center space-x-2 md:space-x-4 mr-2"},Xe={class:"relative"},Ye={key:0,class:"absolute top-0 right-0 block h-2 w-2 rounded-full ring-2 ring-white bg-red-500"},et={class:"relative"},tt=["src","alt"],st={key:"user-menu",class:"absolute right-0 top-full mt-2 w-96 bg-white border border-gray-200 rounded-xl shadow-xl z-50 overflow-hidden"},ot={class:"p-4 flex items-center space-x-3 border-b border-gray-100"},rt=["src","alt"],lt={class:"flex items-center space-x-1"},at={class:"text-base font-bold text-gray-900"},nt={class:"p-4 space-y-4"},it={key:0,class:"bg-red-50 rounded-lg p-4 relative overflow-hidden"},dt={class:"space-y-1 text-sm"},ut={class:"flex justify-between text-red-700"},ct={class:"font-medium"},vt={class:"flex justify-between text-red-700"},pt={class:"font-medium"},mt={class:"space-y-1 pt-2"},gt={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ht={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},ft={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},xt={key:0,class:"md:hidden border-t bg-gray-50 px-4 py-3 relative"},yt={class:"relative"},kt={class:"p-3 border-b flex justify-between items-center bg-gray-50 rounded-t-md"},bt={class:"text-sm font-medium text-gray-900"},Ct={key:0,class:"p-3 text-center text-gray-500 text-sm"},wt={key:1,class:"p-3 text-center text-gray-500 text-sm"},_t={key:2},Lt={key:0,class:"border-b"},Mt=["onClick"],Bt={class:"flex-1 min-w-0"},jt={class:"text-sm font-medium text-gray-900 truncate"},St={key:1,class:"p-2"},$t=["onClick"],Dt=["src"],Nt={class:"flex-1 min-w-0"},Tt={class:"text-sm font-medium text-gray-900 truncate"},Et={class:"text-xs text-gray-500 truncate"},Vt={key:0,class:"px-3 py-2 text-center text-sm text-gray-500"},Ht={key:1,class:"md:hidden border-t bg-white px-4 py-3 space-y-3"},Ut={class:"flex items-center space-x-3 py-2 border-b"},It=["src","alt"],Pt={class:"text-sm font-medium text-gray-900"},zt={class:"text-xs text-gray-500"},At={class:"text-xs text-gray-500"},Zt={__name:"AppHeader",setup(O){const h=fe();xe();const M=n(null),a=n(null),d=n(!1),w=n(!1),_=n(!1),y=n(""),T=n(!1),V=n(!1),x=n([]),m=n([]);let $=null;const B=n(!1),j=n(""),H=n(""),D=n("https://via.placeholder.com/150"),v=n(""),U=n(null),K=n(!1),J=n(!1),I=n(null),k=n(!1),N=n([]),A=n(!1),Z=n(0);function le(){console.log("Toggling mobile menu, current state:",d.value),d.value=!d.value,d.value&&(w.value=!1,_.value=!1,k.value=!1,L())}async function ae(){console.log("Toggling search, current state:",w.value),w.value=!w.value,w.value&&(d.value=!1,_.value=!1,k.value=!1,L(),await Ce(),M.value&&M.value.focus())}const ne=()=>{k.value=!k.value,k.value&&(_.value=!1,d.value=!1,w.value=!1,L(),X())},ie=()=>{k.value=!1};function de(){console.log("Toggling user menu, current state:",_.value),_.value=!_.value,_.value&&(k.value=!1,d.value=!1,w.value=!1,L())}function b(){console.log("Closing all menus"),d.value=!1,w.value=!1,_.value=!1,k.value=!1,L()}function Q(){console.log("Logging out"),localStorage.removeItem("authToken"),localStorage.removeItem("userData"),B.value=!1,j.value="",H.value="",D.value="https://via.placeholder.com/150",v.value="",b(),h.push("/")}function q(){h.push("/login")}function F(){y.value.trim()&&(h.push({name:"GarageList",query:{search:y.value.trim()}}),b())}const W=()=>{if(y.value.trim().length<2){T.value=!1,x.value=[],m.value=[];return}clearTimeout($),$=setTimeout(()=>{ue(y.value.trim())},300)},ue=async l=>{if(l){V.value=!0,T.value=!0;try{const t=localStorage.getItem("authToken");t&&we(t);const S=await E.post("/search",{query:l,latitude:52.4862,longitude:-1.8904});S.data&&S.data.success?(m.value=S.data.data.providers||[],x.value=S.data.data.services||[]):(m.value=[],x.value=[])}catch(t){console.error("Search error:",t),m.value=[],x.value=[]}finally{V.value=!1}}},ce=async()=>{if(v.value==="provider")try{J.value=!0;const l=JSON.parse(localStorage.getItem("userData")||"{}");if(!l.id)return;const t=await E.post("/checkMembershipStatus",{providerId:l.id});t.data&&t.data.success&&(t.data.data?(U.value=t.data.data,K.value=!0):t.data.message&&(I.value=t.data.message,K.value=!0))}catch(l){console.error("Failed to check membership:",l)}finally{J.value=!1}},X=async()=>{if(B.value)try{A.value=!0;const l=v.value==="provider"?"/getNotificationProvider":"/getNotificationCustomer",t=await E.get(l);t.data&&t.data.success&&(N.value=t.data.data||[],Z.value=t.data.unread_count||0)}catch(l){console.error("Failed to fetch notifications:",l)}finally{A.value=!1}},ve=async()=>{try{const l=v.value==="provider"?"/readNotificationProvider":"/readNotificationCustomer",t=await E.get(l);t.data&&t.data.success&&(N.value=N.value.map(i=>({...i,is_read:1})),Z.value=0)}catch(l){console.error("Failed to mark notifications as read:",l)}},pe=async l=>{try{const t=v.value==="provider"?"/deleteNotificationProvider":"/deleteNotificationCustomer",i=await E.post(t,{id:l});i.data&&i.data.success&&(N.value=N.value.filter(s=>s.id!==l))}catch(t){console.error("Failed to delete notification:",t)}},me=()=>{k.value=!1;const l=v.value==="provider"?"/provider/notifications":"/notifications";h.push(l)},ge=()=>{I.value&&window.open(I.value,"_blank")},Y=l=>{if(!l)return"";try{return new Date(l).toLocaleDateString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit"}).split("/").reverse().join("-")}catch{return l}},P=(l,t)=>{L(),l==="service"?h.push({name:"GarageList",query:{category_id:t.cat_id||null,sub_category_id:t.id}}):l==="provider"&&h.push({name:"GarageDetails",params:{provider_id:t.id}})},L=()=>{T.value=!1,$&&clearTimeout($),x.value=[],m.value=[]};function he(){var i;console.log("Loading user data");const l=localStorage.getItem("authToken"),t=localStorage.getItem("userData");if(l&&t)try{const s=JSON.parse(t);B.value=!0,j.value=s.first_name&&s.last_name?`${s.first_name} ${s.last_name}`:s.business_name||"User",H.value=s.email||"No email",D.value=(s==null?void 0:s.image_url)||((i=s==null?void 0:s.image)==null?void 0:i.image_url)||"https://static.vecteezy.com/system/resources/previews/036/594/092/non_2x/man-empty-avatar-photo-placeholder-for-social-networks-resumes-forums-and-dating-sites-male-and-female-no-photo-images-for-unfilled-user-profile-free-vector.jpg",console.log("User avatar set to:",s),s.business_name||s.usertype==="prov"?v.value="provider":v.value="customer",console.log("User data loaded:",{name:j.value,email:H.value,avatar:D.value,userType:v.value}),v.value==="provider"&&ce(),X()}catch(s){console.error("Failed to parse userData:",s),B.value=!1}else console.log("No authToken or userData found in localStorage")}function ee(l){a.value&&!a.value.contains(l.target)&&!l.target.closest(".group")&&L(),l.target.closest("header")||(console.log("Click outside header, closing menus"),b())}return ye(()=>{console.log("Component mounted"),document.addEventListener("click",ee),he()}),ke(()=>{console.log("Component unmounted"),document.removeEventListener("click",ee),$&&clearTimeout($)}),(l,t)=>{const i=re("router-link");return o(),r("header",Be,[e("div",je,[e("div",Se,[e("div",$e,[p(i,{to:"/",class:"text-2xl font-bold text-red-500 flex items-center"},{default:g(()=>[...t[5]||(t[5]=[e("img",{src:"/assets/images/main-logo.png",alt:"Logo",class:"mr-2 h-8 w-auto"},null,-1)])]),_:1})]),e("div",De,[e("div",Ne,[t[8]||(t[8]=e("svg",{class:"absolute left-3 top-2.5 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),te(e("input",{type:"text",placeholder:"Search: garage, category, location",class:"w-80 px-4 py-2 pl-10 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-red-500","onUpdate:modelValue":t[0]||(t[0]=s=>y.value=s),onInput:W,onKeyup:oe(F,["enter"])},null,544),[[se,y.value]]),T.value?(o(),r("div",{key:0,ref_key:"searchDropdown",ref:a,class:"absolute top-full left-0 w-full bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-80 overflow-y-auto mt-1"},[e("div",Te,[e("h3",Ee,'Results for "'+c(y.value)+'"',1),e("button",{onClick:L,class:"text-gray-400 hover:text-gray-600 text-sm font-medium"},"×")]),V.value?(o(),r("div",Ve,"Searching...")):x.value.length===0&&m.value.length===0?(o(),r("div",He,"No results found")):(o(),r("div",Ue,[x.value.length>0?(o(),r("div",Ie,[(o(!0),r(C,null,z(x.value,s=>(o(),r("div",{key:s.id,onClick:S=>P("service",s),class:"px-3 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0 flex items-center space-x-3"},[t[6]||(t[6]=e("div",{class:"flex-shrink-0 w-5 h-5 rounded-full border-2 border-gray-300 flex items-center justify-center"},[e("svg",{class:"w-3 h-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)),e("div",ze,[e("p",Ae,c(s.name),1)])],8,Pe))),128))])):u("",!0),m.value.length>0?(o(),r("div",Ze,[t[7]||(t[7]=e("h4",{class:"font-medium text-sm px-3 py-1 bg-gray-50 mb-2 rounded"},"Garages",-1)),(o(!0),r(C,null,z(m.value.slice(0,3),s=>(o(),r("div",{key:s.id,onClick:S=>P("provider",s),class:"px-3 py-2 hover:bg-gray-50 cursor-pointer flex items-start space-x-3 border-b border-gray-100 last:border-b-0"},[e("img",{src:s.portfolio_imgs&&s.portfolio_imgs.length>0?s.portfolio_imgs[0]:"https://via.placeholder.com/40",class:"w-10 h-10 rounded object-cover flex-shrink-0 mt-1",alt:""},null,8,Re),e("div",Ge,[e("p",Oe,c(s.business_name),1),e("p",Ke,c(s.city)+", "+c(s.state),1)])],8,Fe))),128)),m.value.length>3?(o(),r("div",Je,"+"+c(m.value.length-3)+" more",1)):u("",!0)])):u("",!0)]))],512)):u("",!0)])]),e("div",Qe,[e("button",{onClick:ae,class:"md:hidden p-2 text-gray-600 hover:text-red-500"},[...t[9]||(t[9]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)])]),e("div",qe,[B.value?(o(),r(C,{key:1},[v.value==="customer"?(o(),r("div",We,[e("button",{class:"p-2 text-gray-600 hover:text-red-500 rounded-lg transition-colors cursor-pointer",onClick:t[1]||(t[1]=s=>R(h).push("/vehicles")),title:"My Vehicles"},[...t[12]||(t[12]=[G('<svg width="26" height="24" viewBox="0 0 26 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="w-6 h-6"><path d="M23.6629 13.4422L21.5994 12.4999L19.7781 9.59421C19.2517 8.75197 18.3252 8.24136 17.3303 8.24662H11.2596C10.3594 8.24662 9.50664 8.66248 8.95918 9.37838L6.60617 12.4578L2.68448 13.5317C1.68959 13.8054 1 15.7161 1 16.7478V18.2481C1 19.5167 2.01069 20.5642 3.27932 20.5642H3.61621C4.02154 22.1277 5.61653 23.0646 7.17994 22.6593C8.20643 22.3909 9.01182 21.5907 9.27502 20.5642H16.4302C16.8355 22.1277 18.4305 23.0646 19.9939 22.6593C21.0204 22.3909 21.8258 21.5907 22.089 20.5642H22.7206C23.9893 20.5642 25 19.5167 25 18.2481V15.5373C25.0052 14.6371 24.4788 13.8159 23.6629 13.4422ZM6.44298 21.6907C5.41124 21.6907 4.57426 20.8538 4.57426 19.822C4.57426 18.7903 5.41124 17.9533 6.44298 17.9533C7.47473 17.9533 8.31171 18.7903 8.31171 19.822C8.31697 20.8485 7.47999 21.6855 6.44298 21.6907ZM19.2569 21.6907C18.2252 21.6907 17.3882 20.8538 17.3882 19.822C17.3882 18.7903 18.2252 17.9533 19.2569 17.9533C20.2887 17.9533 21.1257 18.7903 21.1257 19.822C21.1309 20.8485 20.2939 21.6855 19.2569 21.6907ZM22.7206 19.5114H22.1627C21.989 17.9059 20.5413 16.7478 18.9358 16.9268C17.5724 17.0742 16.4986 18.1533 16.3512 19.5114H9.34872C9.175 17.9059 7.7274 16.7478 6.12188 16.9268C4.7585 17.0742 3.68464 18.1533 3.53725 19.5114H3.27405C2.58447 19.5114 2.04754 18.9377 2.04754 18.2481V16.7478C2.04227 16.1846 2.41602 14.695 2.95821 14.5424L7.05887 13.4211C7.16942 13.3896 7.26943 13.3264 7.33787 13.2316L9.79089 10.0153C10.1436 9.56262 10.6858 9.29942 11.2596 9.29942H17.3303C17.962 9.29416 18.5568 9.61526 18.8884 10.1522L20.794 13.1948C20.8467 13.2843 20.9309 13.3527 21.0204 13.3948L23.2207 14.4002C23.6629 14.6055 23.9472 15.0477 23.9419 15.5373V18.2481H23.9472C23.9472 18.9377 23.4102 19.5114 22.7206 19.5114Z" fill="currentColor" stroke="currentColor" stroke-width="0.5" stroke-linecap="round" stroke-linejoin="round"></path><path d="M13 7.24749C12.9998 5.85935 13.4809 4.51408 14.3614 3.4409C15.2419 2.36773 16.4672 1.63305 17.8286 1.36204C19.1901 1.09104 20.6033 1.30048 21.8277 1.95468C23.052 2.60888 24.0116 3.66736 24.543 4.94977C25.0744 6.23218 25.1446 7.65916 24.7419 8.98758C24.3391 10.316 23.4881 11.4637 22.334 12.235C21.1799 13.0063 19.794 13.3537 18.4126 13.2177C17.0311 13.0818 15.7395 12.4711 14.7578 11.4897C14.2006 10.9326 13.7586 10.2713 13.4569 9.54342C13.1553 8.81555 13.0001 8.03538 13 7.24749Z" fill="white" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path><path d="M18.9941 4.24658V10.2466" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path><path d="M22 7.24072L16 7.24072" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path></svg>',1)])]),e("button",{class:"p-2 text-gray-600 hover:text-red-500 rounded-lg transition-colors cursor-pointer",onClick:t[2]||(t[2]=s=>R(h).push("/messages")),title:"Messages"},[...t[13]||(t[13]=[e("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",class:"w-6 h-6"},[e("path",{d:"M19 13C19 13.5304 18.7893 14.0391 18.4142 14.4142C18.0391 14.7893 17.5304 15 17 15H5L1 19V3C1 2.46957 1.21071 1.96086 1.58579 1.58579C1.96086 1.21071 2.46957 1 3 1H17C17.5304 1 18.0391 1.21071 18.4142 1.58579C18.7893 1.96086 19 2.46957 19 3V13Z",stroke:"currentColor","stroke-width":"1.6","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M5.33301 5.83008H14.7452",stroke:"currentColor","stroke-width":"1.6","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M5.5 10H12.25",stroke:"currentColor","stroke-width":"1.6","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])])])):u("",!0),e("div",Xe,[e("button",{onClick:ne,class:"p-1 text-gray-600 hover:text-red-500 relative"},[t[14]||(t[14]=e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1)),Z.value>0?(o(),r("span",Ye)):u("",!0)]),k.value?(o(),be(Me,{key:0,notifications:N.value,loading:A.value,"user-type":v.value,onMarkAllRead:ve,onDelete:pe,onViewAll:me,onClose:ie},null,8,["notifications","loading","user-type"])):u("",!0)]),e("div",et,[e("button",{onClick:de,class:"flex items-center space-x-2 text-gray-700 hover:text-red-500 focus:outline-none"},[e("img",{src:D.value,alt:j.value||"User",class:"w-8 h-8 rounded-full object-cover"},null,8,tt),t[15]||(t[15]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))]),_.value?(o(),r("div",st,[e("div",ot,[e("img",{src:D.value,alt:j.value||"User",class:"w-12 h-12 rounded-full object-cover border-2 border-white shadow-sm"},null,8,rt),e("div",null,[e("div",lt,[e("h3",at,c(j.value||"User"),1),t[16]||(t[16]=e("svg",{class:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1))])])]),e("div",nt,[U.value?(o(),r("div",it,[t[20]||(t[20]=e("div",{class:"flex justify-between items-start mb-2"},[e("h4",{class:"text-red-800 font-semibold text-sm"},"Membership Details"),e("svg",{class:"w-5 h-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1)),e("div",dt,[e("div",ut,[t[17]||(t[17]=e("span",null,"Purchase date",-1)),e("span",ct,c(Y(U.value.purchase_date)),1)]),e("div",vt,[t[18]||(t[18]=e("span",null,"Expiry date",-1)),e("span",pt,c(Y(U.value.expiry_date)),1)]),t[19]||(t[19]=e("p",{class:"text-red-600 text-xs mt-2"},"Special price applied just for you!",-1))])])):I.value?(o(),r("div",{key:1,class:"bg-red-500 rounded-lg p-4 cursor-pointer hover:bg-red-600 transition-colors",onClick:ge},[...t[21]||(t[21]=[G('<div class="flex items-start space-x-3"><div class="flex-shrink-0 mt-0.5 bg-white rounded-full p-1"><svg class="w-4 h-4 text-red-500" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z" clip-rule="evenodd"></path></svg></div><div class="flex-1"><div class="flex justify-between items-center"><h4 class="text-white font-bold text-sm">Become a member</h4><svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></div><p class="text-white text-xs mt-1 leading-relaxed opacity-90"> Become a member to have your garage visible to customers and start receiving bookings. </p></div></div>',1)])])):u("",!0),e("div",mt,[e("div",{class:"py-2 px-1 hover:bg-gray-50 rounded cursor-pointer flex justify-between items-center",onClick:t[3]||(t[3]=s=>R(h).push(v.value==="provider"?"/provider/profile":"/personal-info"))},[...t[22]||(t[22]=[e("span",{class:"text-gray-700 font-medium text-sm"},"Personal Information",-1)])])]),e("div",{class:"pt-2 border-t border-gray-100"},[e("button",{onClick:Q,class:"text-red-500 font-medium text-sm hover:text-red-600 w-full text-left py-2"}," Logout ")])])])):u("",!0)])],64)):(o(),r(C,{key:0},[p(i,{to:"/login",class:"text-gray-700 hover:text-red-500 text-sm font-medium"},{default:g(()=>[...t[10]||(t[10]=[f("Login",-1)])]),_:1}),p(i,{to:"/signup",class:"text-gray-700 hover:text-red-500 text-sm font-medium"},{default:g(()=>[...t[11]||(t[11]=[f("Sign Up",-1)])]),_:1})],64)),B.value?u("",!0):(o(),r("button",{key:2,onClick:q,class:"bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600 text-sm font-medium"}," List your business "))]),e("button",{onClick:le,class:"md:hidden p-2 text-gray-600 hover:text-red-500"},[(o(),r("svg",gt,[d.value?(o(),r("path",ft)):(o(),r("path",ht))]))])])]),w.value?(o(),r("div",xt,[e("div",yt,[te(e("input",{ref_key:"searchInput",ref:M,type:"text",placeholder:"Search: garage, category, location",class:"w-full px-4 py-2 pl-10 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-red-500","onUpdate:modelValue":t[4]||(t[4]=s=>y.value=s),onInput:W,onKeyup:oe(F,["enter"])},null,544),[[se,y.value]]),e("button",{onClick:F,class:"absolute right-2 top-2 text-gray-400 hover:text-red-500"},[...t[23]||(t[23]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)])])]),T.value?(o(),r("div",{key:0,ref_key:"searchDropdown",ref:a,class:"absolute top-full left-0 w-full bg-white border border-gray-300 rounded-md shadow-lg z-50 max-h-80 overflow-y-auto mt-1 w-[calc(100%-2rem)]"},[e("div",kt,[e("h3",bt,'Results for "'+c(y.value)+'"',1),e("button",{onClick:L,class:"text-gray-400 hover:text-gray-600 text-sm font-medium"},"×")]),V.value?(o(),r("div",Ct,"Searching...")):x.value.length===0&&m.value.length===0?(o(),r("div",wt,"No results found")):(o(),r("div",_t,[x.value.length>0?(o(),r("div",Lt,[(o(!0),r(C,null,z(x.value,s=>(o(),r("div",{key:s.id,onClick:S=>P("service",s),class:"px-3 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0 flex items-center space-x-3"},[t[24]||(t[24]=e("div",{class:"flex-shrink-0 w-5 h-5 rounded-full border-2 border-gray-300 flex items-center justify-center"},[e("svg",{class:"w-3 h-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)),e("div",Bt,[e("p",jt,c(s.name),1)])],8,Mt))),128))])):u("",!0),m.value.length>0?(o(),r("div",St,[t[25]||(t[25]=e("h4",{class:"font-medium text-sm px-3 py-1 bg-gray-50 mb-2 rounded"},"Garages",-1)),(o(!0),r(C,null,z(m.value.slice(0,3),s=>(o(),r("div",{key:s.id,onClick:S=>P("provider",s),class:"px-3 py-2 hover:bg-gray-50 cursor-pointer flex items-start space-x-3 border-b border-gray-100 last:border-b-0"},[e("img",{src:s.portfolio_imgs&&s.portfolio_imgs.length>0?s.portfolio_imgs[0]:"https://via.placeholder.com/40",class:"w-10 h-10 rounded object-cover flex-shrink-0 mt-1",alt:""},null,8,Dt),e("div",Nt,[e("p",Tt,c(s.business_name),1),e("p",Et,c(s.city)+", "+c(s.state),1)])],8,$t))),128)),m.value.length>3?(o(),r("div",Vt,"+"+c(m.value.length-3)+" more",1)):u("",!0)])):u("",!0)]))],512)):u("",!0)])):u("",!0),d.value?(o(),r("div",Ht,[B.value?(o(),r(C,{key:1},[e("div",Ut,[e("img",{src:D.value,alt:j.value||"User",class:"w-10 h-10 rounded-full object-cover"},null,8,It),e("div",null,[e("p",Pt,c(j.value||"User"),1),e("p",zt,c(H.value||"No email"),1),e("p",At,c(v.value==="provider"?"Provider":"Customer"),1)])]),v.value==="customer"?(o(),r(C,{key:0},[p(i,{to:"/personal-info",onClick:b,class:"block text-gray-700 hover:text-red-500 text-sm py-2"},{default:g(()=>[...t[28]||(t[28]=[f("My Profile",-1)])]),_:1}),p(i,{to:"/my-bookings",onClick:b,class:"block text-gray-700 hover:text-red-500 text-sm py-2"},{default:g(()=>[...t[29]||(t[29]=[f("My Bookings",-1)])]),_:1}),p(i,{to:"/vehicles",onClick:b,class:"block text-gray-700 hover:text-red-500 text-sm py-2"},{default:g(()=>[...t[30]||(t[30]=[f("My Vehicles",-1)])]),_:1})],64)):v.value==="provider"?(o(),r(C,{key:1},[p(i,{to:"/provider/calendar",onClick:b,class:"block text-gray-700 hover:text-red-500 text-sm py-2"},{default:g(()=>[...t[31]||(t[31]=[f("Calendar",-1)])]),_:1}),p(i,{to:"/provider/bookings",onClick:b,class:"block text-gray-700 hover:text-red-500 text-sm py-2"},{default:g(()=>[...t[32]||(t[32]=[f("Bookings",-1)])]),_:1})],64)):u("",!0),e("button",{onClick:Q,class:"block w-full text-left text-gray-700 hover:text-red-500 text-sm py-2"},"Logout")],64)):(o(),r(C,{key:0},[p(i,{to:"/login",onClick:b,class:"block text-gray-700 hover:text-red-500 text-sm font-medium py-2"},{default:g(()=>[...t[26]||(t[26]=[f("Login",-1)])]),_:1}),p(i,{to:"/signup",onClick:b,class:"block text-gray-700 hover:text-red-500 text-sm font-medium py-2"},{default:g(()=>[...t[27]||(t[27]=[f("Sign Up",-1)])]),_:1})],64)),!B.value||v.value==="customer"?(o(),r("button",{key:2,onClick:q,class:"w-full bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600 text-sm font-medium mt-4"}," List your business ")):u("",!0)])):u("",!0)])])}}},Ft={class:"text-white",style:{"background-color":"#182224"}},Rt={class:"elementor-section-wrap"},Gt={class:"max-w-7xl mx-auto px-4 py-24"},Ot={class:"grid grid-cols-1 md:grid-cols-5 gap-8"},Kt={class:"md:col-span-1"},Jt={class:"md:col-span-1"},Qt={class:"space-y-2"},qt={class:"space-y-2"},Wt=["href"],Xt={class:"md:col-span-1"},Yt={class:"space-y-2"},es={class:"space-y-2"},ts={__name:"AppFooter",setup(O){const h=_e(()=>{const M=window.location.hostname,a=window.location.protocol;if(M.startsWith("pro."))return"/login/mobile/garage";const d=`pro.${M}`;return`${a}//${d}/login/mobile/garage`});return(M,a)=>{const d=re("router-link");return o(),r("footer",Ft,[e("div",Rt,[e("div",Gt,[e("div",Ot,[e("div",Kt,[p(d,{to:"/",class:"flex items-center"},{default:g(()=>[...a[0]||(a[0]=[e("img",{src:"/assets/images/fullLogo@3x.png",alt:"Donder Storm Logo",class:"w-40 h-auto"},null,-1)])]),_:1})]),e("div",Jt,[a[2]||(a[2]=e("h2",{class:"text-md font-bold mb-4"},"Quick Links",-1)),e("nav",Qt,[e("ul",qt,[e("li",null,[p(d,{to:"/",class:"text-gray-300 active:text-[#EC5B70] hover:text-[#EC5B70] focus:text-[#EC5B70] transition-colors"},{default:g(()=>[...a[1]||(a[1]=[f("Home",-1)])]),_:1})]),e("li",null,[e("a",{href:h.value,class:"text-gray-300 hover:text-[#EC5B70] focus:text-[#EC5B70] transition-colors"},"List your business",8,Wt)])])])]),e("div",Xt,[a[6]||(a[6]=e("h2",{class:"text-md font-bold mb-4"},"Legal",-1)),e("nav",Yt,[e("ul",es,[e("li",null,[p(d,{to:"/privacy-policy-guest",class:"text-gray-300 hover:text-[#EC5B70] focus:text-[#EC5B70] transition-colors"},{default:g(()=>[...a[3]||(a[3]=[f("Privacy Policy",-1)])]),_:1})]),e("li",null,[p(d,{to:"/terms-of-service-guest",class:"text-gray-300 hover:text-[#EC5B70] focus:text-[#EC5B70] transition-colors"},{default:g(()=>[...a[4]||(a[4]=[f("Terms of service",-1)])]),_:1})]),e("li",null,[p(d,{to:"/terms-of-use",class:"text-gray-300 hover:text-[#EC5B70] focus:text-[#EC5B70] transition-colors"},{default:g(()=>[...a[5]||(a[5]=[f("Terms of use",-1)])]),_:1})])])])]),a[7]||(a[7]=G('<div class="md:col-span-1"><h2 class="text-md font-bold mb-4">Find us on social</h2><nav class="space-y-2"><ul class="space-y-2"><li><a href="https://facebook.com/donderstorm" target="_blank" class="text-gray-300 hover:text-[#EC5B70] focus:text-[#EC5B70] transition-colors">Facebook</a></li><li><a href="https://instagram.com/donderstorm" target="_blank" class="text-gray-300 hover:text-[#EC5B70] focus:text-[#EC5B70] transition-colors">Instagram</a></li><li><a href="https://twitter.com/donderstorm" target="_blank" class="text-gray-300 hover:text-[#EC5B70] focus:text-[#EC5B70] transition-colors">Twitter (X)</a></li></ul></nav></div><div class="md:col-span-1"><h2 class="text-md font-bold mb-4">Download App</h2><div class="space-y-4"><a href="https://play.google.com/store/apps/details?id=com.app.donderstorm&amp;pli=1" target="_blank" class="flex items-center justify-between bg-white text-black px-4 py-3 rounded-full transition-colors hover:bg-[#EC5B70] hover:text-white"><span>Google Play Store</span><svg class="w-6 h-6 transition-colors" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 21" fill="none"><path d="M17.1257 8.77835L2.50328 0.41991C2.25555 0.278388 1.97516 0.203999 1.68986 0.204102C1.68414 0.204102 1.67853 0.204864 1.67291 0.204864C1.58868 0.205934 1.50466 0.213448 1.42157 0.22734C1.411 0.229149 1.40034 0.229721 1.38976 0.231721L1.39034 0.232482C1.20543 0.266408 1.02775 0.331937 0.865101 0.426196C0.616429 0.570468 0.410016 0.777529 0.266526 1.02665C0.123036 1.27578 0.0475018 1.55822 0.0474854 1.84571V18.5625C0.0475018 18.85 0.123036 19.1324 0.266526 19.3816C0.410016 19.6307 0.616429 19.8377 0.865101 19.982C1.02771 20.0763 1.20536 20.1419 1.39024 20.1758L1.38976 20.1765C1.39929 20.1783 1.40891 20.1789 1.41834 20.1804C1.44967 20.1857 1.4811 20.1901 1.51262 20.1934C1.52843 20.1952 1.54414 20.1969 1.55995 20.1981C1.597 20.2011 1.63395 20.2028 1.6711 20.2032C1.67738 20.2033 1.68357 20.2041 1.68986 20.2041C1.97052 20.2041 2.25119 20.1323 2.50328 19.9883L17.1257 11.6298C17.3769 11.4862 17.5856 11.2788 17.7308 11.0285C17.876 10.7783 17.9525 10.4941 17.9524 10.2048V10.2033C17.9524 9.91399 17.876 9.62983 17.7308 9.37959C17.5856 9.12936 17.3768 8.92194 17.1257 8.77835ZM11.3431 7.11845L9.88915 9.02577L6.19012 4.17284L11.3431 7.11845ZM16.4167 10.3895L6.19012 16.2353L12.5933 7.83473L16.4166 10.0202C16.4492 10.0388 16.4762 10.0656 16.4951 10.098C16.5139 10.1304 16.5239 10.1672 16.524 10.2047C16.5239 10.2422 16.5139 10.279 16.4951 10.3115C16.4763 10.3439 16.4493 10.3708 16.4167 10.3895Z" fill="currentColor"></path></svg></a><a href="https://apps.apple.com/in/app/donderstorm/id6736373373" target="_blank" class="flex items-center justify-between bg-white text-black px-4 py-3 rounded-full transition-colors hover:bg-[#EC5B70] hover:text-white"><span>App Store</span><svg class="w-6 h-6 transition-colors" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 23" fill="none"><path d="M13.2333 0.204102H13.3898C13.5154 1.75559 12.9232 2.91486 12.2034 3.75436C11.4973 4.58807 10.5302 5.39665 8.96619 5.27397C8.86186 3.7447 9.45502 2.67141 10.1738 1.83384C10.8403 1.05327 12.0624 0.358671 13.2333 0.204102ZM17.9679 16.3527V16.3962C17.5284 17.7274 16.9014 18.8683 16.1363 19.9271C15.4378 20.8883 14.5819 22.1819 13.0536 22.1819C11.733 22.1819 10.8558 21.3327 9.50235 21.3095C8.07066 21.2863 7.28332 22.0196 5.97432 22.2041H5.528C4.56677 22.065 3.79103 21.3037 3.22589 20.6178C1.55944 18.5911 0.271686 15.973 0.0321045 12.6228V11.6383C0.13354 9.24059 1.2986 7.29109 2.84719 6.34629C3.66448 5.84394 4.788 5.41598 6.03904 5.60725C6.5752 5.69034 7.12296 5.87389 7.60309 6.0555C8.0581 6.23036 8.62711 6.54046 9.16617 6.52404C9.53134 6.51341 9.89457 6.3231 10.2626 6.18882C11.3408 5.7995 12.3976 5.35318 13.7907 5.56282C15.4649 5.81592 16.6531 6.55979 17.3873 7.70746C15.9711 8.60879 14.8514 9.96707 15.0427 12.2866C15.2127 14.3935 16.4377 15.6262 17.9679 16.3527Z" fill="currentColor"></path></svg></a></div></div>',2))])])]),a[8]||(a[8]=e("hr",{class:"border-gray-700"},null,-1)),a[9]||(a[9]=e("div",{class:"py-6",style:{"background-color":"#182224"}},[e("div",{class:"max-w-7xl mx-auto px-4 text-center text-gray-400"},[e("p",null,"2025 © Donderstorm All rights Reserved.")])],-1))])}}},ss={class:"min-h-screen"},ls={__name:"MainLayout",setup(O){return(h,M)=>(o(),r("div",ss,[p(Zt),e("main",null,[Le(h.$slots,"default")]),p(ts)]))}};export{ls as _};
