import{l as U,r as F,J as E,d as I,f as r,g as O,o as i,a as n,t as d,F as m,p as w,q as f}from"./app-C7zuiOEw.js";const P={class:"flex flex-col items-center min-w-[280px] sm:min-w-[320px]"},R={class:"flex justify-between items-center w-full mb-2"},T={class:"text-sm sm:text-base font-semibold text-gray-800"},z={class:"grid grid-cols-7 text-center text-[10px] sm:text-xs text-gray-500 mb-1 w-full"},L={class:"grid grid-cols-7 gap-y-1 text-center w-full"},W=["onClick"],$={class:"flex flex-col items-center min-w-[280px] sm:min-w-[320px]"},q={class:"flex justify-between items-center w-full mb-2"},A={class:"text-sm sm:text-base font-semibold text-gray-800"},H={class:"grid grid-cols-7 text-center text-[10px] sm:text-xs text-gray-500 mb-1 w-full"},J={class:"grid grid-cols-7 gap-y-1 text-center w-full"},G=["onClick"],K={__name:"DateRangePicker",props:{show:Boolean,modelValue:Object,viewMode:{type:String,default:null},extraClasses:{type:String,default:""}},emits:["update:modelValue","close"],setup(p,{emit:S}){var M,C;const c=p,g=S,u=new Date,a=F(new Date(u.getFullYear(),u.getMonth(),1)),o=F({start:((M=c.modelValue)==null?void 0:M.start)||null,end:((C=c.modelValue)==null?void 0:C.end)||null});E(()=>c.modelValue,e=>{e&&(o.value={...e})},{immediate:!0});const h=I(()=>{const e=new Date(a.value);return e.setMonth(e.getMonth()+1),e}),D=["SUN","MON","TUE","WED","THU","FRI","SAT"],y=e=>e.toLocaleDateString("en-US",{month:"short",year:"numeric"}),k=e=>{const t=new Date(e),s=t.getDay(),l=[];t.setDate(1-s);for(let x=0;x<42;x++){const V=new Date(t),N=V.getMonth()!==e.getMonth();l.push({date:V,outside:N}),t.setDate(t.getDate()+1)}return l},B=()=>{a.value=new Date(a.value.getFullYear(),a.value.getMonth()+1,1)},Y=()=>{a.value=new Date(a.value.getFullYear(),a.value.getMonth()-1,1)},b=e=>{const t=c.viewMode;if(!t){!o.value.start||o.value.start&&o.value.end?o.value={start:e,end:null}:o.value.start&&!o.value.end&&(e<o.value.start?o.value={start:e,end:o.value.start}:o.value.end=e,g("update:modelValue",{...o.value}),g("close"));return}if(e<u&&!v(e,u))return;let s=new Date(e),l=new Date(e);t==="3day"?l.setDate(s.getDate()+2):t==="week"&&l.setDate(s.getDate()+6),o.value={start:s,end:l},g("update:modelValue",{...o.value}),g("close")},v=(e,t)=>e&&t&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate(),j=e=>o.value.start&&o.value.end&&e>o.value.start&&e<o.value.end,_=(e,t)=>{const s=c.viewMode,l=e<u&&!v(e,u);return["text-center select-none rounded-md",t?"text-gray-300":"text-gray-800",s&&l?"opacity-30 cursor-not-allowed":"cursor-pointer hover:bg-red-100",j(e)?"bg-red-100 text-gray-800":"",v(e,o.value.start)||v(e,o.value.end)?"bg-red-500 text-white font-semibold":""]};return(e,t)=>p.show?(i(),r("div",{key:0,class:f(["absolute z-50 bg-white border border-gray-200 rounded-2xl shadow-xl p-4 flex flex-col sm:flex-row gap-6 sm:gap-8 overflow-x-auto",p.extraClasses])},[n("div",P,[n("div",R,[n("button",{onClick:Y,class:"p-1 hover:bg-gray-100 rounded"},[...t[0]||(t[0]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),n("h3",T,d(y(a.value)),1),t[1]||(t[1]=n("div",{class:"w-5"},null,-1))]),n("div",z,[(i(),r(m,null,w(D,s=>n("div",{key:s},d(s),1)),64))]),n("div",L,[(i(!0),r(m,null,w(k(a.value),(s,l)=>(i(),r("div",{key:l,class:f(["py-2 text-sm sm:text-base cursor-pointer rounded transition",_(s.date,s.outside)]),onClick:x=>b(s.date)},d(s.date.getDate()),11,W))),128))])]),n("div",$,[n("div",q,[t[3]||(t[3]=n("div",{class:"w-5"},null,-1)),n("h3",A,d(y(h.value)),1),n("button",{onClick:B,class:"p-1 hover:bg-gray-100 rounded"},[...t[2]||(t[2]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])])]),n("div",H,[(i(),r(m,null,w(D,s=>n("div",{key:s},d(s),1)),64))]),n("div",J,[(i(!0),r(m,null,w(k(h.value),(s,l)=>(i(),r("div",{key:l,class:f(["py-2 text-sm sm:text-base cursor-pointer rounded transition",_(s.date,s.outside)]),onClick:x=>b(s.date)},d(s.date.getDate()),11,G))),128))])])],2)):O("",!0)}},X=U(K,[["__scopeId","data-v-e9268147"]]);export{X as D};
