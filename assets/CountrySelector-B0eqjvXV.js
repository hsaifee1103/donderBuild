import{l as k,r as c,J as C,d as V,b as L,O as B,f as r,o as n,a as o,g as v,t as u,h as g,i as D,v as M,F as S,p as E}from"./app-ClV_mout.js";import{c as w}from"./countries-DXaTS7mb.js";/* empty css                                                                        */const N=["src","alt"],U={class:"text-gray-700"},$={class:"p-2 border-b"},j={class:"max-h-60 overflow-y-auto"},F=["onClick"],O=["src","alt"],R={class:"flex-1"},q={class:"font-medium"},z={class:"text-sm text-gray-500"},G={key:0,class:"px-4 py-3 text-gray-500 text-center"},I={__name:"CountrySelector",props:{modelValue:{type:Object,default:()=>({name:"United Kingdom",dial_code:"+44",code:"GB",flag:"gb"})}},emits:["update:modelValue"],setup(_,{emit:h}){const i=c(null),p=_,x=h,l=c(!1),d=c(""),a=c(p.modelValue);C(()=>p.modelValue,t=>{a.value=t},{deep:!0});const m=V(()=>{if(!d.value)return w;const t=d.value.toLowerCase();return w.filter(e=>e.name.toLowerCase().includes(t)||e.dial_code.includes(t)||e.code.toLowerCase().includes(t))}),y=()=>{l.value=!l.value},b=t=>{a.value=t,l.value=!1,x("update:modelValue",t)},f=t=>{i.value&&!i.value.contains(t.target)&&(l.value=!1)};return L(()=>{document.addEventListener("click",f)}),B(()=>{document.removeEventListener("click",f)}),(t,e)=>(n(),r("div",{class:"relative",ref_key:"dropdownRef",ref:i},[o("button",{type:"button",class:"flex items-center space-x-2 px-2 py-3 border border-gray-300 rounded-lg bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 w-full",onClick:y},[o("img",{src:`https://flagcdn.com/w20/${a.value.flag}.png`,alt:a.value.name,class:"w-5 h-3"},null,8,N),o("span",U,u(a.value.dial_code),1),e[3]||(e[3]=o("svg",{class:"w-4 h-4 text-gray-400 ml-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))]),l.value?(n(),r("div",{key:0,class:"absolute top-full left-0 mt-1 min-w-[280px] bg-white shadow-lg rounded-lg z-50 max-h-80 overflow-y-auto",onClick:e[2]||(e[2]=g(()=>{},["stop"]))},[o("div",$,[D(o("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>d.value=s),type:"text",placeholder:"Search country...",class:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500",onClick:e[1]||(e[1]=g(()=>{},["stop"]))},null,512),[[M,d.value]])]),o("div",j,[(n(!0),r(S,null,E(m.value,s=>(n(),r("div",{key:s.code,onClick:J=>b(s),class:"flex items-center space-x-3 px-4 py-3 hover:bg-gray-100 cursor-pointer"},[o("img",{src:`https://flagcdn.com/w20/${s.flag}.png`,alt:s.name,class:"w-5 h-3"},null,8,O),o("div",R,[o("div",q,u(s.name),1),o("div",z,u(s.dial_code),1)])],8,F))),128)),m.value.length===0?(n(),r("div",G," No countries found ")):v("",!0)])])):v("",!0)],512))}},A=k(I,[["__scopeId","data-v-7e86c094"]]);export{A as C};
