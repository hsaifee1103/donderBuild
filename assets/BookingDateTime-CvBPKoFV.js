import{l as Be,r as y,c as v,e as Le,d as je,a as Ne,o as r,w as O,k as $e,u as Te,m as Fe,b as e,f as n,j as le,n as ae,t as l,g as f,q as x,F as I,p as H,I as fe}from"./app-Dc5tvvr1.js";import{_ as Ae}from"./MainLayout-2w1d5obF.js";import"./NotificationDropdown-DMUdgZ-P.js";const Ie={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 lg:pb-8 pb-32"},He={class:"mb-6"},Ve={class:"flex overflow-x-auto whitespace-nowrap pb-2","aria-label":"Breadcrumb"},ze={class:"inline-flex items-center space-x-1 md:space-x-3"},Oe={class:"inline-flex items-center"},Ye={class:"flex items-center"},Ee={class:"flex items-center"},Pe={key:0,class:"flex justify-center py-12"},Ze={key:1,class:"text-center py-12"},Ge={class:"text-gray-600"},Qe={key:2,class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Ue={class:"lg:col-span-2"},Je={class:"bg-white rounded-lg shadow-sm overflow-hidden"},Re={class:"p-6 border-b border-gray-200"},qe={class:"text-gray-600 mt-1"},Ke={class:"p-6"},We={key:0},Xe={class:"mb-8"},et={class:"space-y-4"},tt={class:"flex items-center"},st={key:0,class:"w-2 h-2 bg-white rounded-full"},ot={class:"flex items-center"},lt={key:0,class:"w-2 h-2 bg-white rounded-full"},at={class:"flex items-center"},rt={key:0,class:"w-2 h-2 bg-white rounded-full"},nt={key:0,class:"mb-6"},it={class:"flex items-center justify-between mb-6"},dt={class:"text-lg font-semibold text-gray-900"},ct={class:"overflow-x-auto pb-4"},ut={class:"flex space-x-2",style:{"min-width":"max-content"}},vt=["onClick"],mt={class:"text-sm text-gray-600"},gt={key:1,class:"mb-6"},ft={class:"overflow-x-auto pb-4"},xt={class:"flex space-x-2",style:{"min-width":"max-content"}},ht=["onClick"],pt={class:"text-sm text-gray-600"},bt={key:2,class:"mb-6"},yt={key:1},_t={class:"flex items-center justify-between mb-6"},wt={class:"text-lg font-semibold text-gray-900"},Ct={class:"overflow-x-auto pb-4"},kt={class:"flex space-x-2",style:{"min-width":"max-content"}},Dt=["onClick"],St={class:"text-sm text-gray-600"},Mt={class:"space-y-3 mt-8"},Bt=["onClick"],Lt={class:"font-medium"},jt={key:0,class:"absolute right-4 top-1/2 transform -translate-y-1/2"},Nt={key:0,class:"lg:col-span-1"},$t={class:"bg-white rounded-lg shadow-sm sticky top-6"},Tt={class:"p-6"},Ft={class:"flex items-start space-x-3 mb-6"},At={class:"w-20 h-20 bg-yellow-400 rounded-lg flex items-center justify-center overflow-hidden"},It=["src","alt"],Ht={key:1,class:"text-black font-bold text-lg"},Vt={class:"flex-1"},zt={class:"font-semibold text-gray-900"},Ot={class:"flex items-center mt-1"},Yt={class:"ml-1 text-sm font-medium text-yellow-400"},Et={class:"ml-1 text-sm text-gray-500"},Pt={class:"flex gap-2 items-center mt-1"},Zt={class:"text-sm text-gray-600 mt-1"},Gt={class:"mb-6"},Qt={class:"space-y-2 mb-4"},Ut={class:"flex justify-between items-center text-sm"},Jt={class:"text-gray-600 truncate flex items-center gap-2"},Rt={class:"text-gray-600 text-sm"},qt=["disabled"],Kt={key:1,class:"lg:col-span-1"},Wt={class:"bg-white rounded-lg shadow-sm sticky top-6"},Xt={class:"p-6 border-b border-gray-200"},es={class:"flex items-start space-x-3 mb-6"},ts={class:"w-20 h-20 bg-yellow-400 rounded-lg flex items-center justify-center overflow-hidden"},ss=["src","alt"],os={key:1,class:"text-black font-bold text-lg"},ls={class:"flex-1"},as={class:"font-semibold text-gray-900"},rs={class:"flex items-center mt-1"},ns={class:"ml-1 text-sm font-medium text-yellow-400"},is={class:"ml-1 text-sm text-gray-500"},ds={class:"flex gap-2 items-center mt-1"},cs={class:"text-sm text-gray-600 mt-1"},us={class:"py-2 px-6"},vs={key:0,class:"mb-6 flex"},ms={class:"text-4xl font-bold text-gray-900 w-1/2 border-r border-gray-200"},gs={class:"text-sm text-gray-600 w-1/2 pl-4"},fs={class:"font-medium"},xs={key:1,class:"mb-6"},hs={class:"text-gray-600"},ps={key:0,class:"font-medium"},bs={key:1,class:"font-medium"},ys={key:2,class:"font-medium"},_s={class:"mb-6"},ws={class:"space-y-4"},Cs={class:"flex-1"},ks={class:"font-medium text-gray-900"},Ds={class:"flex items-center mt-1"},Ss={class:"text-sm text-gray-500"},Ms=["onClick"],Bs={class:"font-medium text-gray-900"},Ls={class:"border-t border-gray-200 mt-4 pt-4"},js={class:"flex justify-between items-center mb-2"},Ns={class:"font-medium text-gray-900"},$s={key:0,class:"flex justify-between items-center mb-2"},Ts={class:"text-gray-600"},Fs={class:"font-medium text-gray-900"},As={class:"flex justify-between items-center text-lg font-bold border-t border-gray-200 pt-2 mt-2"},Is=["disabled"],Hs={class:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] lg:hidden z-40"},Vs={key:0,class:"flex justify-between items-center mb-3"},zs={class:"text-xl font-bold text-gray-900"},Os=["disabled"],Ys={__name:"BookingDateTime",setup(Es){const xe=Le(),Y=Te(),g=y(null),E=y(!0),V=y(null),S=y([]),P=y(null),z=y(new Date),c=y(null),_=y(null),Z=y([]),u=y(null),j=v(()=>xe.params.provider_id),he=async()=>{var s,t;try{E.value=!0;const a=await $e.post("/garage",{provider_id:j.value});a.data&&a.data.success?g.value=a.data.data:V.value=a.data.message||"Failed to load garage details"}catch(a){V.value=((t=(s=a.response)==null?void 0:s.data)==null?void 0:t.message)||a.message||"An error occurred",console.error("Error fetching garage details:",a)}finally{E.value=!1}},pe=()=>{const s=localStorage.getItem("selectedServices"),t=localStorage.getItem("bookingDetails");s&&(S.value=JSON.parse(s)),t&&(P.value=JSON.parse(t))},A=v(()=>z.value.getMonth()),w=v(()=>z.value.getFullYear()),re=v(()=>new Date(w.value,A.value).toLocaleString("default",{month:"long"})),G=v(()=>{const s=w.value,t=A.value,a=new Date(s,t+1,0).getDate(),i=[];for(let d=1;d<=a;d++){const m=new Date(s,t,d),p=m.toLocaleDateString("en-US",{weekday:"short"});i.push({day:m.getDate(),date:m,dayName:p.substring(0,3)})}return i}),Q=()=>{const s=new Date;(w.value>s.getFullYear()||w.value===s.getFullYear()&&A.value>s.getMonth())&&(z.value=new Date(w.value,A.value-1,1))},U=()=>{z.value=new Date(w.value,A.value+1,1)},ne=s=>{const t=new Date;return t.setHours(0,0,0,0),s.getMonth()===t.getMonth()&&s.getFullYear()===t.getFullYear()?s>=t:!(s<t&&(s.getMonth()<t.getMonth()||s.getFullYear()<t.getFullYear()))},J=s=>c.value&&s.toDateString()===c.value.toDateString(),C=s=>{const t=new Date;return t.setHours(0,0,0,0),s<t?!1:be(s)},ie=s=>(s=Number(s),s===7?0:s),be=s=>{var d;if(!((d=g.value)!=null&&d.business_days))return!1;const t=s.toLocaleDateString("en-US",{weekday:"long"}),a=s.getDay(),i=g.value.business_days.find(m=>typeof m.day=="string"&&isNaN(Number(m.day))?m.day.toLowerCase()===t.toLowerCase():ie(m.day)===a);return i&&(i.is_active===1||i.is_active===!0)},R=()=>{const s=new Date;s.setHours(0,0,0,0);const t=90;let a=null;for(let i=0;i<t;i++){const d=new Date(s);d.setDate(s.getDate()+i),C(d)&&(a=d)}return a},q=s=>{C(s)&&(c.value=s,h.value||(_.value=null,de()))},de=async()=>{var s,t;if(c.value)try{const a=c.value.toLocaleDateString("en-US",{weekday:"long"}),i=c.value.getDay(),d=(t=(s=g.value)==null?void 0:s.business_days)==null?void 0:t.find(o=>typeof o.day=="string"&&isNaN(Number(o.day))?o.day.toLowerCase()===a.toLowerCase():ie(o.day)===i);if(!d||!(d.is_active===1||d.is_active===!0)){Z.value=[];return}const[m,p]=d.open_time.split(":").map(Number),[k,$]=d.close_time.split(":").map(Number),B=[],D=new Date,T=c.value.toDateString()===D.toDateString(),L=D.getHours(),F=D.getMinutes();for(let o=m;o<=k;o++)for(let b=0;b<60&&!(o===k&&b>=$);b+=30){if(T&&(o<L||o===L&&b<=F))continue;const De=o%12||12,Se=b.toString().padStart(2,"0"),Me=o>=12?"pm":"am";B.push({time:`${De}:${Se} ${Me}`})}Z.value=B}catch(a){console.error("Error fetching time slots:",a),fe({type:"error",title:"Error",message:"Failed to load available time slots",confirmButtonText:"OK"})}},ye=s=>{_.value=s},K=s=>{if(u.value=s,s!=="on-date"&&s!=="before-date"&&(c.value=null),(s==="on-date"||s==="before-date")&&!c.value){const t=R();t&&(c.value=t)}},W=s=>s.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"short",year:"numeric"}),_e=s=>s,we=s=>{const[t,a]=s.split(" ");let[i,d]=t.split(":").map(Number);a==="pm"&&i!==12?i+=12:a==="am"&&i===12&&(i=0);const m=S.value.reduce((T,L)=>{const F=L.service_duration||"0 min",o=parseInt(F)||0;return T+o},0),p=new Date(c.value);p.setHours(i,d+m);const k=p.getHours(),$=p.getMinutes(),B=k>=12?"pm":"am",D=k%12||12;return`${s} - ${D}:${$.toString().padStart(2,"0")} ${B}`},N=v(()=>{var s,t,a;return((a=(t=(s=g.value)==null?void 0:s.businesses)==null?void 0:t[0])==null?void 0:a.business_name)||"Garage"}),ce=v(()=>N.value.charAt(0).toUpperCase()),ue=v(()=>{var t,a;const s=(a=(t=g.value)==null?void 0:t.business_location)==null?void 0:a[0];return s?`${s.city}, ${s.state}, ${s.country}`:"Location not available"}),X=v(()=>S.value.reduce((s,t)=>s+parseFloat(t.price||0),0)),Ce=v(()=>me.value),ve=v(()=>{var s;return((s=g.value)==null?void 0:s.has_vat)||!1}),ee=v(()=>{var s;return((s=g.value)==null?void 0:s.vat_percentage)||0}),me=v(()=>!ve.value||!ee.value?0:X.value*(ee.value/100)),te=v(()=>X.value+Ce.value),ge=v(()=>{const s=S.value.reduce((i,d)=>{const m=d.service_duration||"0 min",p=parseInt(m)||0;return i+p},0),t=Math.floor(s/60),a=s%60;return t>0&&a>0?`${t}hr ${a}min`:t>0?`${t}hr${t>1?"s":""}`:`${a}min`}),h=v(()=>{var s;return((s=P.value)==null?void 0:s.hasQuotationServices)||!1}),se=v(()=>h.value?"Get Quote":"Continue"),M=v(()=>h.value?u.value&&(u.value==="flexible"||c.value):c.value&&_.value),ke=()=>{Y.push({name:"Booking",params:{provider_id:j.value}})},oe=()=>{if(!M.value){const t=h.value?"Please select your availability preference":"Please select both date and time for your appointment";fe({type:"error",title:"Error",message:t,confirmButtonText:"OK"});return}const s={date:c.value,time:_.value,duration:ge.value,availabilityType:u.value,hasQuotationServices:h.value};localStorage.setItem("appointmentDetails",JSON.stringify(s)),h.value?Y.push({name:"BookingNotes",params:{provider_id:j.value}}):Y.push({name:"BookingVehicle",params:{provider_id:j.value}})};return je(()=>{if(he(),pe(),h.value){u.value="on-date";const s=R();s&&(c.value=s)}else{const s=R();s&&(c.value=s,de())}}),(s,t)=>{const a=Fe("router-link");return r(),Ne(Ae,null,{default:O(()=>{var i,d,m,p,k,$,B,D,T,L,F;return[e("main",Ie,[e("div",He,[e("nav",Ve,[e("ol",ze,[e("li",Oe,[le(a,{to:{name:"Home"},class:"text-gray-700 hover:text-gray-900 inline-flex items-center"},{default:O(()=>[...t[3]||(t[3]=[e("svg",{class:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"})],-1),ae(" Home ",-1)])]),_:1})]),e("li",null,[e("div",Ye,[t[4]||(t[4]=e("svg",{class:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),le(a,{to:{name:"GarageDetails",params:{provider_id:j.value}},class:"text-gray-700 hover:text-gray-900 ml-1 md:ml-2 font-medium"},{default:O(()=>[ae(l(N.value),1)]),_:1},8,["to"])])]),e("li",null,[e("div",Ee,[t[6]||(t[6]=e("svg",{class:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),le(a,{to:{name:"Booking",params:{provider_id:j.value}},class:"text-gray-700 hover:text-gray-900 ml-1 md:ml-2 font-medium"},{default:O(()=>[...t[5]||(t[5]=[ae(" Booking ",-1)])]),_:1},8,["to"])])]),t[7]||(t[7]=e("li",null,[e("div",{class:"flex items-center"},[e("svg",{class:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})]),e("span",{class:"text-gray-500 ml-1 md:ml-2 font-medium"},"Availability")])],-1))])])]),E.value?(r(),n("div",Pe,[...t[8]||(t[8]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-coral-500"},null,-1)])])):V.value?(r(),n("div",Ze,[t[9]||(t[9]=e("div",{class:"mb-4"},[e("svg",{class:"w-16 h-16 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1)),t[10]||(t[10]=e("h3",{class:"text-xl font-medium text-gray-900 mb-2"},"Unable to load availability",-1)),e("p",Ge,l(V.value),1)])):(r(),n("div",Qe,[e("div",Ue,[e("div",Je,[e("div",Re,[t[11]||(t[11]=e("h1",{class:"text-2xl font-bold text-gray-900"},"Availability",-1)),e("p",qe,l(h.value?"Select your preferred date range":"Select your preferred date and time"),1)]),e("div",Ke,[h.value?(r(),n("div",We,[e("div",Xe,[t[15]||(t[15]=e("h2",{class:"text-lg font-semibold text-gray-900 mb-4"},"When would you like the service?",-1)),e("div",et,[e("div",{class:x(["p-4 border rounded-lg cursor-pointer transition-colors",u.value==="on-date"?"border-2 border-coral-500 bg-coral-50":"border-gray-200 hover:border-gray-300"]),onClick:t[0]||(t[0]=o=>K("on-date"))},[e("div",tt,[e("div",{class:x(["w-5 h-5 rounded-full border-2 flex items-center justify-center mr-3",u.value==="on-date"?"border-coral-500 bg-coral-500":"border-gray-300"])},[u.value==="on-date"?(r(),n("div",st)):f("",!0)],2),t[12]||(t[12]=e("div",null,[e("h3",{class:"font-medium text-gray-900"},"On a specific date"),e("p",{class:"text-sm text-gray-600"},"Select a specific date for your service")],-1))])],2),e("div",{class:x(["p-4 border rounded-lg cursor-pointer transition-colors",u.value==="before-date"?"border-2 border-coral-500 bg-coral-50":"border-gray-200 hover:border-gray-300"]),onClick:t[1]||(t[1]=o=>K("before-date"))},[e("div",ot,[e("div",{class:x(["w-5 h-5 rounded-full border-2 flex items-center justify-center mr-3",u.value==="before-date"?"border-coral-500 bg-coral-500":"border-gray-300"])},[u.value==="before-date"?(r(),n("div",lt)):f("",!0)],2),t[13]||(t[13]=e("div",null,[e("h3",{class:"font-medium text-gray-900"},"Before a specific date"),e("p",{class:"text-sm text-gray-600"},"Complete the service before a certain date")],-1))])],2),e("div",{class:x(["p-4 border rounded-lg cursor-pointer transition-colors",u.value==="flexible"?"border-2 border-coral-500 bg-coral-50":"border-gray-200 hover:border-gray-300"]),onClick:t[2]||(t[2]=o=>K("flexible"))},[e("div",at,[e("div",{class:x(["w-5 h-5 rounded-full border-2 flex items-center justify-center mr-3",u.value==="flexible"?"border-coral-500 bg-coral-500":"border-gray-300"])},[u.value==="flexible"?(r(),n("div",rt)):f("",!0)],2),t[14]||(t[14]=e("div",null,[e("h3",{class:"font-medium text-gray-900"},"I'm flexible"),e("p",{class:"text-sm text-gray-600"},"I'm open to any available date")],-1))])],2)])]),u.value==="on-date"?(r(),n("div",nt,[e("div",it,[e("h2",dt,l(re.value)+" "+l(w.value),1),e("div",{class:"flex items-center space-x-1 bg-gray-100 rounded-lg p-1"},[e("button",{onClick:Q,class:"p-2 hover:bg-white rounded-md transition-colors"},[...t[16]||(t[16]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),e("button",{onClick:U,class:"p-2 hover:bg-white rounded-md transition-colors"},[...t[17]||(t[17]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])])])]),e("div",ct,[e("div",ut,[ne(s.day.date)?(r(!0),n(I,{key:0},H(G.value,o=>(r(),n("div",{key:o.date.toString(),class:"flex flex-col items-center flex-shrink-0"},[e("div",{class:x(["w-12 h-12 rounded-full flex items-center justify-center font-medium text-lg mb-2 transition-colors",J(o.date)?"bg-coral-500 text-white":C(o.date)?"bg-gray-100 hover:bg-gray-200 cursor-pointer":"bg-gray-100 text-gray-400 cursor-not-allowed"]),onClick:b=>C(o.date)?q(o.date):null},l(o.day),11,vt),e("span",mt,l(o.dayName),1)]))),128)):f("",!0)])])])):f("",!0),u.value==="before-date"?(r(),n("div",gt,[t[20]||(t[20]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Select a deadline date",-1)),e("div",{class:"flex items-center space-x-1 bg-gray-100 rounded-lg p-1 mb-4"},[e("button",{onClick:Q,class:"p-2 hover:bg-white rounded-md transition-colors"},[...t[18]||(t[18]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),e("button",{onClick:U,class:"p-2 hover:bg-white rounded-md transition-colors"},[...t[19]||(t[19]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])])]),e("div",ft,[e("div",xt,[ne(s.day.date)?(r(!0),n(I,{key:0},H(G.value,o=>(r(),n("div",{key:o.date.toString(),class:"flex flex-col items-center flex-shrink-0"},[e("div",{class:x(["w-12 h-12 rounded-full flex items-center justify-center font-medium text-lg mb-2 transition-colors",J(o.date)?"bg-coral-500 text-white":C(o.date)?"bg-gray-100 hover:bg-gray-200 cursor-pointer":"bg-gray-100 text-gray-400 cursor-not-allowed"]),onClick:b=>C(o.date)?q(o.date):null},l(o.day),11,ht),e("span",pt,l(o.dayName),1)]))),128)):f("",!0)])])])):f("",!0),u.value==="flexible"?(r(),n("div",bt,[...t[21]||(t[21]=[e("div",{class:"p-6 bg-coral-50 rounded-lg border border-coral-200"},[e("h3",{class:"font-medium text-coral-800 mb-2"},"No date selection needed"),e("p",{class:"text-sm text-coral-700"},"The garage will contact you to arrange a suitable time after providing the quote.")],-1)])])):f("",!0)])):(r(),n("div",yt,[e("div",_t,[e("h2",wt,l(re.value)+" "+l(w.value),1),e("div",{class:"flex items-center space-x-1 bg-gray-100 rounded-lg p-1"},[e("button",{onClick:Q,class:"p-2 hover:bg-white rounded-md transition-colors"},[...t[22]||(t[22]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),e("button",{onClick:U,class:"p-2 hover:bg-white rounded-md transition-colors"},[...t[23]||(t[23]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])])])]),e("div",Ct,[e("div",kt,[(r(!0),n(I,null,H(G.value,o=>(r(),n("div",{key:o.date.toString(),class:"flex flex-col items-center flex-shrink-0"},[e("div",{class:x(["w-12 h-12 rounded-full flex items-center justify-center font-medium text-lg mb-2 transition-colors",J(o.date)?"bg-coral-500 text-white":C(o.date)?"bg-gray-100 hover:bg-gray-200 cursor-pointer":"bg-gray-100 text-gray-400 cursor-not-allowed"]),onClick:b=>C(o.date)?q(o.date):null},l(o.day),11,Dt),e("span",St,l(o.dayName),1)]))),128))])]),e("div",Mt,[(r(!0),n(I,null,H(Z.value,o=>(r(),n("div",{key:o.time,class:x(["p-4 border rounded-lg cursor-pointer transition-colors",_.value===o.time?"border-2 border-red-400 bg-red-50 relative":"border-gray-200 hover:border-gray-300"]),onClick:b=>ye(o.time)},[e("span",Lt,l(o.time),1),_.value===o.time?(r(),n("div",jt,[...t[24]||(t[24]=[e("div",{class:"flex space-x-1"},[e("div",{class:"w-2 h-2 bg-coral-500 rounded-full"}),e("div",{class:"w-2 h-2 bg-coral-500 rounded-full"}),e("div",{class:"w-2 h-2 bg-coral-500 rounded-full"})],-1)])])):f("",!0)],10,Bt))),128))])]))])])]),(i=P.value)!=null&&i.hasQuotationServices?(r(),n("div",Nt,[e("div",$t,[e("div",Tt,[e("div",Ft,[e("div",At,[(p=(m=(d=g.value)==null?void 0:d.businesses)==null?void 0:m[0])!=null&&p.file_id?(r(),n("img",{key:0,src:g.value.businesses[0].file_id,alt:N.value+" logo",class:"w-full h-full object-cover"},null,8,It)):(r(),n("span",Ht,l(ce.value),1))]),e("div",Vt,[e("h3",zt,l(N.value),1),e("div",Ot,[t[25]||(t[25]=e("svg",{class:"w-4 h-4 text-yellow-400 fill-current",viewBox:"0 0 20 20"},[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),e("span",Yt,l(((k=g.value)==null?void 0:k.rating)||"0.0"),1),e("span",Et,"("+l((($=g.value)==null?void 0:$.rating_count)||0)+")",1)]),e("div",Pt,[t[26]||(t[26]=e("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M2.90702 3.66703C2.12024 4.81688 1.76522 6.20781 1.90468 7.59407C2.04414 8.98032 2.6691 10.2727 3.66914 11.2428L5.95813 12.9998L7.9995 15L10.0409 12.9998L12.3299 11.2428C13.3299 10.2727 13.9549 8.98032 14.0943 7.59407C14.2338 6.20781 13.8788 4.81688 13.092 3.66703C12.4135 2.67572 11.4574 1.90683 10.3436 1.45679C8.84022 0.847738 7.15879 0.847738 5.65538 1.45679C4.5416 1.90683 3.58551 2.67572 2.90702 3.66703Z",fill:"#182224"}),e("path",{d:"M8.00035 9.00007C8.39411 8.99197 8.77672 8.86781 9.1002 8.64316C9.42369 8.4185 9.67365 8.10335 9.81876 7.73722C9.96387 7.37108 9.99766 6.97026 9.9159 6.58499C9.83413 6.19973 9.64046 5.84718 9.35915 5.57154C9.07784 5.2959 8.72142 5.10944 8.33458 5.03553C7.94773 4.96163 7.54768 5.00357 7.18457 5.1561C6.82146 5.30862 6.51147 5.56495 6.29344 5.89294C6.07542 6.22093 5.95907 6.60598 5.95898 6.99982C5.96453 7.53575 6.18269 8.04753 6.5655 8.42263C6.94831 8.79773 7.46443 9.00543 8.00035 9.00007Z",fill:"white"})],-1)),e("p",Zt,l(ue.value),1)])])]),e("div",Gt,[e("div",Qt,[e("div",Ut,[e("span",Jt,[t[28]||(t[28]=e("div",null,[e("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("circle",{cx:"20",cy:"20",r:"20",fill:"#D9D9D9"}),e("path",{d:"M29.2997 16.9232C27.7851 16.6856 26.72 15.284 26.8893 13.7983C26.9123 13.5971 26.958 13.399 27.0255 13.2081C27.201 12.7039 27.0209 12.1215 26.5875 11.7564C25.6716 10.9659 24.6331 10.3297 23.5128 9.87291C23.2684 9.76991 22.9967 9.75131 22.7406 9.82006C22.4845 9.88881 22.2586 10.041 22.0987 10.2525C21.2121 11.4376 19.5037 11.6454 18.35 10.7203C18.1804 10.5839 18.0285 10.4267 17.898 10.2525C17.7381 10.041 17.5122 9.88881 17.2561 9.82006C17 9.75131 16.7283 9.76991 16.484 9.87291C15.4506 10.2935 14.4864 10.8672 13.6236 11.5746C13.1683 11.9439 12.9795 12.5491 13.1642 13.0702C13.6803 14.4391 12.9833 16.0444 11.5672 16.6301C11.3149 16.7354 11.0487 16.8038 10.7769 16.8334C10.2065 16.9042 9.73339 17.326 9.6179 17.8703C9.35831 19.0213 9.33507 20.2129 9.5496 21.3731C9.64977 21.9352 10.1291 22.3765 10.7169 22.4494C12.232 22.61 13.3587 23.9495 13.2618 25.4401C13.2431 25.7396 13.1731 26.0336 13.0549 26.3094C12.8309 26.8272 13.0048 27.4552 13.4688 27.8368C14.3786 28.6136 15.4069 29.2397 16.5146 29.6913C16.6522 29.7441 16.7975 29.7737 16.9447 29.7791C17.1442 29.783 17.3415 29.7364 17.5181 29.6436C17.6948 29.5508 17.8451 29.4149 17.9551 29.2484C18.191 28.8942 18.5092 28.6025 18.8826 28.3984C19.256 28.1943 19.6733 28.0839 20.0988 28.0766C20.5242 28.0693 20.9451 28.1654 21.3253 28.3566C21.7054 28.5478 22.0335 28.8284 22.2813 29.1743C22.4404 29.4006 22.6736 29.5642 22.9405 29.6369C23.2075 29.7096 23.4914 29.6868 23.7433 29.5725C24.7556 29.1236 25.6973 28.5298 26.5387 27.8099C26.98 27.4374 27.1596 26.8409 26.9704 26.3301C26.4385 24.967 27.1182 23.3555 28.5256 22.7565C28.7635 22.6542 29.0142 22.5846 29.2707 22.5495C29.8345 22.463 30.2919 22.0354 30.3962 21.4944C30.5186 20.929 30.5853 20.3529 30.5953 19.7745C30.5952 19.164 30.5313 18.5552 30.4045 17.9581C30.2986 17.4286 29.8511 17.011 29.2997 16.9232ZM23.5306 19.7745C23.5306 21.7134 21.936 23.305 19.9984 23.3066C18.0607 23.3083 16.4678 21.7134 16.4662 19.7745C16.4645 17.8355 18.0607 16.2435 19.9984 16.2419C21.936 16.2402 23.5289 17.8339 23.5306 19.7745Z",fill:"#182224","fill-opacity":"0.75"})])],-1)),e("div",null,[t[27]||(t[27]=e("p",{class:"text-gray-900 text-xs font-semibold"}," SERVICES ",-1)),e("p",Rt,l(S.value.map(o=>o.service_name).join(S.value.length>1?", ":" and ")),1)])]),t[29]||(t[29]=e("span",{class:"font-medium"},[e("svg",{width:"9",height:"14",viewBox:"0 0 9 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M2 2L7 7L2 12",stroke:"#182224","stroke-width":"2","stroke-linecap":"square"})])],-1))])])]),e("button",{disabled:!M.value,class:x(["w-full font-medium py-3 px-4 rounded-lg transition-colors",M.value?"bg-coral-500 hover:bg-red-500 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"]),onClick:oe},l(se.value),11,qt)])])])):(r(),n("div",Kt,[e("div",Wt,[e("div",Xt,[e("div",es,[e("div",ts,[(T=(D=(B=g.value)==null?void 0:B.businesses)==null?void 0:D[0])!=null&&T.file_id?(r(),n("img",{key:0,src:g.value.businesses[0].file_id,alt:N.value+" logo",class:"w-full h-full object-cover"},null,8,ss)):(r(),n("span",os,l(ce.value),1))]),e("div",ls,[e("h3",as,l(N.value),1),e("div",rs,[t[30]||(t[30]=e("svg",{class:"w-4 h-4 text-yellow-400 fill-current",viewBox:"0 0 20 20"},[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})],-1)),e("span",ns,l(((L=g.value)==null?void 0:L.rating)||"0.0"),1),e("span",is,"("+l(((F=g.value)==null?void 0:F.rating_count)||0)+")",1)]),e("div",ds,[t[31]||(t[31]=e("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M2.90702 3.66703C2.12024 4.81688 1.76522 6.20781 1.90468 7.59407C2.04414 8.98032 2.6691 10.2727 3.66914 11.2428L5.95813 12.9998L7.9995 15L10.0409 12.9998L12.3299 11.2428C13.3299 10.2727 13.9549 8.98032 14.0943 7.59407C14.2338 6.20781 13.8788 4.81688 13.092 3.66703C12.4135 2.67572 11.4574 1.90683 10.3436 1.45679C8.84022 0.847738 7.15879 0.847738 5.65538 1.45679C4.5416 1.90683 3.58551 2.67572 2.90702 3.66703Z",fill:"#182224"}),e("path",{d:"M8.00035 9.00007C8.39411 8.99197 8.77672 8.86781 9.1002 8.64316C9.42369 8.4185 9.67365 8.10335 9.81876 7.73722C9.96387 7.37108 9.99766 6.97026 9.9159 6.58499C9.83413 6.19973 9.64046 5.84718 9.35915 5.57154C9.07784 5.2959 8.72142 5.10944 8.33458 5.03553C7.94773 4.96163 7.54768 5.00357 7.18457 5.1561C6.82146 5.30862 6.51147 5.56495 6.29344 5.89294C6.07542 6.22093 5.95907 6.60598 5.95898 6.99982C5.96453 7.53575 6.18269 8.04753 6.5655 8.42263C6.94831 8.79773 7.46443 9.00543 8.00035 9.00007Z",fill:"white"})],-1)),e("p",cs,l(ue.value),1)])])])]),e("div",us,[!h.value&&c.value&&_.value?(r(),n("div",vs,[e("div",ms,l(_e(_.value)),1),e("div",gs,[e("span",fs,l(W(c.value)),1),t[32]||(t[32]=e("br",null,null,-1)),e("span",null,l(we(_.value))+" ("+l(ge.value)+")",1)])])):f("",!0),h.value&&u.value&&c.value?(r(),n("div",xs,[t[33]||(t[33]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"Selected Date Preference",-1)),e("div",hs,[u.value==="on-date"?(r(),n("span",ps," On: "+l(W(c.value)),1)):u.value==="before-date"?(r(),n("span",bs," Before: "+l(W(c.value)),1)):u.value==="flexible"?(r(),n("span",ys," Flexible scheduling ")):f("",!0)])])):f("",!0),e("div",_s,[t[37]||(t[37]=e("h4",{class:"font-semibold text-gray-900 mb-4"},"Order Summary",-1)),e("div",ws,[(r(!0),n(I,null,H(S.value,o=>(r(),n("div",{key:o.id,class:"flex justify-between items-start"},[e("div",Cs,[e("p",ks,l(o.service_name),1),e("div",Ds,[t[34]||(t[34]=e("svg",{class:"w-4 h-4 text-gray-400 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",Ss,l(o.service_duration||"N/A"),1),e("button",{onClick:b=>ke(o.id),class:"ml-2 text-sm text-red-500 hover:text-red-600"},"Change",8,Ms)])]),e("span",Bs,"£"+l(o.price),1)]))),128))]),e("div",Ls,[e("div",js,[t[35]||(t[35]=e("span",{class:"text-gray-600"},"Service Price",-1)),e("span",Ns,"£"+l(X.value.toFixed(2)),1)]),ve.value?(r(),n("div",$s,[e("span",Ts,"VAT ("+l(ee.value)+"%)",1),e("span",Fs,"£"+l(me.value.toFixed(2)),1)])):f("",!0),e("div",As,[t[36]||(t[36]=e("span",null,"Total Payable",-1)),e("span",null,"£"+l(te.value.toFixed(2)),1)])])]),e("button",{disabled:!M.value,class:x(["w-full font-medium py-3 px-4 rounded-lg transition-colors hidden lg:block",M.value?"bg-coral-500 hover:bg-red-500 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"]),onClick:oe},l(se.value),11,Is)])])]))]))]),e("div",Hs,[te.value>0&&!h.value?(r(),n("div",Vs,[t[38]||(t[38]=e("span",{class:"text-gray-600 font-medium"},"Total",-1)),e("span",zs,"£"+l(te.value.toFixed(2)),1)])):f("",!0),e("button",{disabled:!M.value,class:x(["w-full font-medium py-3 px-4 rounded-lg transition-colors",M.value?"bg-coral-500 hover:bg-red-500 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"]),onClick:oe},l(se.value),11,Os)])]}),_:1})}}},Qs=Be(Ys,[["__scopeId","data-v-ebb98862"]]);export{Qs as default};
